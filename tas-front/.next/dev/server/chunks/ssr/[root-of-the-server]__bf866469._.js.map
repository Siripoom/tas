{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///home/siripoom/tas/tas-front/src/services/apiClient.js"],"sourcesContent":["// create axios instance with default config\nimport axios from \"axios\";\n\nconst baseURL = process.env.NEXT_PUBLIC_API_BASE_URL || \"http://localhost:4556/api\";\n\nconst apiClient = axios.create({\n  baseURL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nconst getToken = () => (typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null);\nconst getRefreshToken = () =>\n  typeof window !== \"undefined\" ? localStorage.getItem(\"refreshToken\") : null;\n\nconst setTokens = (accessToken, refreshToken) => {\n  if (typeof window === \"undefined\") return;\n  if (accessToken) localStorage.setItem(\"token\", accessToken);\n  if (refreshToken) localStorage.setItem(\"refreshToken\", refreshToken);\n};\n\nconst clearTokens = () => {\n  if (typeof window === \"undefined\") return;\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"refreshToken\");\n};\n\napiClient.interceptors.request.use(\n  (config) => {\n    const token = getToken();\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => Promise.reject(error),\n);\n\nlet isRefreshing = false;\nlet pendingRequests = [];\n\nconst processQueue = (error, token = null) => {\n  pendingRequests.forEach((promise) => {\n    if (error) {\n      promise.reject(error);\n    } else {\n      promise.resolve(token);\n    }\n  });\n  pendingRequests = [];\n};\n\napiClient.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    const originalRequest = error.config;\n\n    if (error.response?.status !== 401 || originalRequest?._retry) {\n      return Promise.reject(error);\n    }\n\n    const refreshToken = getRefreshToken();\n    if (!refreshToken) {\n      clearTokens();\n      return Promise.reject(error);\n    }\n\n    if (isRefreshing) {\n      return new Promise((resolve, reject) => {\n        pendingRequests.push({ resolve, reject });\n      })\n        .then((token) => {\n          originalRequest.headers.Authorization = `Bearer ${token}`;\n          return apiClient(originalRequest);\n        })\n        .catch((refreshError) => Promise.reject(refreshError));\n    }\n\n    originalRequest._retry = true;\n    isRefreshing = true;\n\n    try {\n      const response = await axios.post(`${baseURL}/auth/refresh`, { refreshToken });\n      const newAccessToken = response.data?.accessToken;\n      const newRefreshToken = response.data?.refreshToken || refreshToken;\n\n      setTokens(newAccessToken, newRefreshToken);\n      processQueue(null, newAccessToken);\n\n      originalRequest.headers.Authorization = `Bearer ${newAccessToken}`;\n      return apiClient(originalRequest);\n    } catch (refreshError) {\n      processQueue(refreshError, null);\n      clearTokens();\n      if (typeof window !== \"undefined\") {\n        localStorage.removeItem(\"user\");\n      }\n      return Promise.reject(refreshError);\n    } finally {\n      isRefreshing = false;\n    }\n  },\n);\n\nexport default apiClient;\n"],"names":[],"mappings":"AAAA,4CAA4C;;;;;AAC5C;;AAEA,MAAM,UAAU,iEAAwC;AAExD,MAAM,YAAY,gJAAK,CAAC,MAAM,CAAC;IAC7B;IACA,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,MAAM,WAAW,IAAO,sCAAgC,0BAAgC;AACxF,MAAM,kBAAkB,IACtB,sCAAgC,0BAAuC;AAEzE,MAAM,YAAY,CAAC,aAAa;IAC9B,wCAAmC;;;AAGrC;AAEA,MAAM,cAAc;IAClB,wCAAmC;;;AAGrC;AAEA,UAAU,YAAY,CAAC,OAAO,CAAC,GAAG,CAChC,CAAC;IACC,MAAM,QAAQ;IACd;;IAGA,OAAO;AACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;AAG5B,IAAI,eAAe;AACnB,IAAI,kBAAkB,EAAE;AAExB,MAAM,eAAe,CAAC,OAAO,QAAQ,IAAI;IACvC,gBAAgB,OAAO,CAAC,CAAC;QACvB,IAAI,OAAO;YACT,QAAQ,MAAM,CAAC;QACjB,OAAO;YACL,QAAQ,OAAO,CAAC;QAClB;IACF;IACA,kBAAkB,EAAE;AACtB;AAEA,UAAU,YAAY,CAAC,QAAQ,CAAC,GAAG,CACjC,CAAC,WAAa,UACd,OAAO;IACL,MAAM,kBAAkB,MAAM,MAAM;IAEpC,IAAI,MAAM,QAAQ,EAAE,WAAW,OAAO,iBAAiB,QAAQ;QAC7D,OAAO,QAAQ,MAAM,CAAC;IACxB;IAEA,MAAM,eAAe;IACrB,wCAAmB;QACjB;QACA,OAAO,QAAQ,MAAM,CAAC;IACxB;;;AAoCF;uCAGa"}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file:///home/siripoom/tas/tas-front/src/services/compat.js"],"sourcesContent":["const ROLE_TO_USER_TYPE = {\n  STUDENT: \"student\",\n  TEACHER: \"teacher\",\n  DEPT_STAFF: \"admin\",\n  FACULTY_ADMIN: \"admin\",\n  SUPER_ADMIN: \"admin\",\n};\n\nconst ACTIVITY_STATUS_TO_API = {\n  planned: \"OPEN_REGISTRATION\",\n  inprogress: \"IN_PROGRESS\",\n  completed: \"CLOSED\",\n  cancelled: \"CANCELLED\",\n};\n\nconst LEGACY_ATTENDANCE_ACTION = {\n  APPLIED: \"request-revision\",\n  APPROVED: \"approve\",\n  REJECTED: \"request-revision\",\n  REVISION_REQUIRED: \"request-revision\",\n  CANCELLED: \"request-revision\",\n  NO_SHOW: \"request-revision\",\n  SUBMITTED: \"request-revision\",\n  COMPLETED: \"approve\",\n  joined: \"request-revision\",\n  accepted: \"approve\",\n  approved: \"approve\",\n  completed: \"approve\",\n  rejected: \"request-revision\",\n  uncompleted: \"request-revision\",\n  Inprogress: \"request-revision\",\n};\n\nfunction safeString(value) {\n  return value === null || value === undefined ? \"\" : String(value);\n}\n\nexport function splitFullName(fullname) {\n  const clean = safeString(fullname).trim();\n  if (!clean) {\n    return { firstName: \"User\", lastName: \"\" };\n  }\n  const parts = clean.split(/\\s+/);\n  const firstName = parts.shift() || \"User\";\n  const lastName = parts.join(\" \");\n  return { firstName, lastName };\n}\n\nexport function roleToUserType(role) {\n  return ROLE_TO_USER_TYPE[role] || \"student\";\n}\n\nexport function mapActivityStatusFromApi(status) {\n  return status || \"OPEN_REGISTRATION\";\n}\n\nexport function mapActivityStatusToApi(status) {\n  return ACTIVITY_STATUS_TO_API[status] || status || undefined;\n}\n\nexport function mapApplicationStatusFromApi(status) {\n  return status || \"APPLIED\";\n}\n\nexport function mapLegacyAttendanceAction(status) {\n  return LEGACY_ATTENDANCE_ACTION[status] || \"request-revision\";\n}\n\nexport function mapEvidenceTypeToTypeActivity(requiredEvidenceType) {\n  const mapping = {\n    PHOTO: { id: \"PHOTO\", name: \"ใช้รูปภาพ\" },\n    PDF: { id: \"PDF\", name: \"ใช้ PDF\" },\n    BOTH: { id: \"BOTH\", name: \"ทั่วไป\" },\n  };\n  return mapping[requiredEvidenceType] || mapping.BOTH;\n}\n\nexport function normalizeUser(user) {\n  if (!user) return null;\n\n  const fullNameFromApi = [user.firstName, user.lastName].filter(Boolean).join(\" \").trim();\n  const fullname = user.fullname || fullNameFromApi || user.username || user.email || \"Unknown\";\n\n  const faculty =\n    user.faculty ||\n    user.studentProfile?.faculty ||\n    user.teacherProfile?.faculty ||\n    user.staffProfile?.faculty ||\n    null;\n\n  const department =\n    user.department ||\n    user.studentProfile?.department ||\n    user.teacherProfile?.department ||\n    user.staffProfile?.department ||\n    null;\n\n  const major = user.major || user.studentProfile?.major || null;\n\n  const studentCode = user.studentCode || user.studentProfile?.studentCode || null;\n  const classYear = user.classYear || user.studentProfile?.classYear || null;\n  const academicYear = user.academicYear || user.studentProfile?.academicYear || null;\n\n  return {\n    id: user.id,\n    role: user.role,\n    userType: roleToUserType(user.role),\n    username: user.username || null,\n    email: user.email || null,\n    fullname,\n    name: fullname,\n    firstName: user.firstName || splitFullName(fullname).firstName,\n    lastName: user.lastName || splitFullName(fullname).lastName,\n    phone: user.phone || null,\n    status: user.status || \"ACTIVE\",\n    studentId: studentCode,\n    studentCode,\n    classYear,\n    academicYear,\n    level: classYear,\n    facultyId:\n      user.facultyId ||\n      user.studentProfile?.facultyId ||\n      user.teacherProfile?.facultyId ||\n      user.staffProfile?.facultyId ||\n      faculty?.id ||\n      null,\n    faculty,\n    departmentId:\n      user.departmentId ||\n      user.studentProfile?.departmentId ||\n      user.teacherProfile?.departmentId ||\n      user.staffProfile?.departmentId ||\n      department?.id ||\n      null,\n    department,\n    majorId: user.majorId || user.studentProfile?.majorId || major?.id || null,\n    major,\n  };\n}\n\nexport function normalizeAttendance(application, activity = null) {\n  const normalizedUser = normalizeUser(application?.student || application?.user || null);\n\n  return {\n    id: application.id,\n    activityId: application.activityId || activity?.id || null,\n    userId: application.studentUserId || normalizedUser?.id || null,\n    status: mapApplicationStatusFromApi(application.status),\n    reason: application.remark || null,\n    createdAt: application.submittedAt || application.createdAt || null,\n    updatedAt: application.updatedAt || null,\n    user: normalizedUser,\n    activity,\n    attendanceId: application.id,\n  };\n}\n\nexport function normalizeActivity(activity) {\n  const applications = Array.isArray(activity?.applications) ? activity.applications : [];\n  const attendances = applications.map((item) => normalizeAttendance(item));\n\n  const peopleCount = applications.filter((item) => [\"APPLIED\", \"APPROVED\"].includes(item.status)).length;\n\n  const typeActivity = mapEvidenceTypeToTypeActivity(activity.requiredEvidenceType);\n\n  return {\n    id: activity.id,\n    name: activity.title,\n    title: activity.title,\n    description: activity.note || \"\",\n    note: activity.note || \"\",\n    location: activity.location,\n    address: activity.location,\n    hour: activity.hours,\n    hours: activity.hours,\n    activityHours: activity.hours,\n    maxPeopleCount: activity.capacity,\n    maxStudents: activity.capacity,\n    peopleCount,\n    startDate: activity.startAt,\n    endDate: activity.endAt,\n    date: activity.applyCloseAt,\n    applyOpen: activity.applyOpenAt,\n    applyClose: activity.applyCloseAt,\n    status: mapActivityStatusFromApi(activity.status),\n    departmentId: activity.ownerDepartmentId || null,\n    facultyId: activity.ownerFacultyId || null,\n    department: activity.ownerDepartment || null,\n    faculty: activity.ownerFaculty || null,\n    typeActivity,\n    typeActivityId: typeActivity.id,\n    requiredEvidenceType: activity.requiredEvidenceType,\n    ownerScope: activity.ownerScope,\n    attendances,\n    applications,\n    createdBy: activity.createdBy || null,\n    majorJoins: [],\n    fileActivities: [],\n    remarks: activity.note || \"\",\n  };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 354, "column": 0}, "map": {"version":3,"sources":["file:///home/siripoom/tas/tas-front/src/services/user.js"],"sourcesContent":["import apiClient from \"./apiClient\";\nimport { normalizeUser, roleToUserType } from \"./compat\";\nimport { getAllActivities } from \"./activity\";\n\nconst getCurrentUser = () => {\n  if (typeof window === \"undefined\") return null;\n  try {\n    return JSON.parse(localStorage.getItem(\"user\") || \"null\");\n  } catch (_error) {\n    return null;\n  }\n};\n\nconst normalizeUserList = (items) =>\n  items.map((item) => {\n    const user = normalizeUser(item);\n    return {\n      ...user,\n      userType: roleToUserType(item.role),\n      department: user.department,\n      major: user.major,\n      departmentId: user.departmentId,\n      majorId: user.majorId,\n      level: user.level,\n      studentId: user.studentId,\n      role: item.role,\n      studentProfile: item.studentProfile || null,\n      teacherProfile: item.teacherProfile || null,\n      staffProfile: item.staffProfile || null,\n    };\n  });\n\nconst buildCreatePayload = (userData = {}) => {\n  const currentUser = getCurrentUser();\n  const role = userData.role || \"STUDENT\";\n\n  const payload = {\n    username:\n      userData.username ||\n      userData.email ||\n      userData.studentProfile?.studentCode ||\n      `user_${Date.now()}`,\n    email: userData.email || undefined,\n    password: userData.password || \"ChangeMe123!\",\n    firstName: userData.firstName,\n    lastName: userData.lastName || \"\",\n    phone: userData.phone || undefined,\n    role,\n    status: userData.status || \"ACTIVE\",\n  };\n\n  const fallbackFacultyId = currentUser?.facultyId || userData.facultyId;\n\n  if (role === \"STUDENT\") {\n    payload.studentProfile = {\n      studentCode: userData.studentProfile?.studentCode || userData.studentCode,\n      facultyId:\n        userData.studentProfile?.facultyId ||\n        userData.facultyId ||\n        fallbackFacultyId,\n      departmentId: userData.studentProfile?.departmentId || userData.departmentId,\n      majorId: userData.studentProfile?.majorId || userData.majorId,\n      classYear:\n        Number(userData.studentProfile?.classYear || userData.classYear || userData.level) || 1,\n      academicYear:\n        Number(userData.studentProfile?.academicYear || userData.academicYear) || 2568,\n      registrarVerified: Boolean(userData.studentProfile?.registrarVerified ?? true),\n    };\n  }\n\n  if (role === \"TEACHER\") {\n    payload.teacherProfile = {\n      employeeCode: userData.teacherProfile?.employeeCode || userData.employeeCode || undefined,\n      facultyId:\n        userData.teacherProfile?.facultyId ||\n        userData.facultyId ||\n        fallbackFacultyId,\n      departmentId: userData.teacherProfile?.departmentId || userData.departmentId,\n    };\n  }\n\n  if (role === \"DEPT_STAFF\" || role === \"FACULTY_ADMIN\") {\n    const staffType = role === \"FACULTY_ADMIN\" ? \"FACULTY_ADMIN\" : \"DEPT_STAFF\";\n    payload.staffProfile = {\n      staffType,\n      facultyId:\n        userData.staffProfile?.facultyId ||\n        userData.facultyId ||\n        fallbackFacultyId,\n      departmentId:\n        staffType === \"FACULTY_ADMIN\"\n          ? null\n          : userData.staffProfile?.departmentId || userData.departmentId,\n    };\n  }\n\n  return payload;\n};\n\nconst buildUpdatePayload = (userData = {}) => {\n  const role = userData.role;\n\n  const payload = {\n    username: userData.username,\n    email: userData.email,\n    password: userData.password || undefined,\n    firstName: userData.firstName,\n    lastName: userData.lastName,\n    phone: userData.phone,\n    status: userData.status,\n  };\n\n  if (role === \"STUDENT\") {\n    payload.studentProfile = userData.studentProfile || {\n      studentCode: userData.studentCode,\n      facultyId: userData.facultyId,\n      departmentId: userData.departmentId,\n      majorId: userData.majorId,\n      classYear: userData.classYear || userData.level,\n      academicYear: userData.academicYear,\n      registrarVerified: userData.registrarVerified,\n    };\n  }\n\n  if (role === \"TEACHER\") {\n    payload.teacherProfile = userData.teacherProfile || {\n      employeeCode: userData.employeeCode,\n      facultyId: userData.facultyId,\n      departmentId: userData.departmentId,\n    };\n  }\n\n  if (role === \"DEPT_STAFF\" || role === \"FACULTY_ADMIN\") {\n    const staffType = role === \"FACULTY_ADMIN\" ? \"FACULTY_ADMIN\" : \"DEPT_STAFF\";\n    payload.staffProfile = userData.staffProfile || {\n      staffType,\n      facultyId: userData.facultyId,\n      departmentId: staffType === \"FACULTY_ADMIN\" ? null : userData.departmentId,\n    };\n  }\n\n  return payload;\n};\n\nconst compact = (obj) =>\n  Object.fromEntries(\n    Object.entries(obj).filter(([, value]) => value !== undefined),\n  );\n\nexport const getAllUsers = async (params = {}) => {\n  const response = await apiClient.get(\"/users\", { params });\n  const data = Array.isArray(response.data) ? response.data : [];\n  return normalizeUserList(data);\n};\n\nexport const getUsersByType = async (userType) => {\n  try {\n    const users = await getAllUsers();\n    return users.filter((user) => user.userType === userType);\n  } catch (error) {\n    if (userType !== \"student\") {\n      throw error;\n    }\n\n    const activities = await getAllActivities();\n    const seen = new Map();\n\n    activities.forEach((activity) => {\n      (activity.attendances || []).forEach((attendance) => {\n        const user = attendance.user;\n        if (!user?.id || seen.has(user.id)) return;\n        seen.set(user.id, {\n          ...user,\n          userType: \"student\",\n        });\n      });\n    });\n\n    return Array.from(seen.values());\n  }\n};\n\nexport const getUserById = async (userId) => {\n  const response = await apiClient.get(`/users/${userId}`);\n  return normalizeUser(response.data);\n};\n\nexport const createUser = async (userData) => {\n  const payload = buildCreatePayload(userData);\n  const response = await apiClient.post(\"/users\", payload);\n  return normalizeUser(response.data);\n};\n\nexport const updateUser = async (userId, userData) => {\n  const payload = compact(buildUpdatePayload(userData));\n  if (payload.studentProfile) payload.studentProfile = compact(payload.studentProfile);\n  if (payload.teacherProfile) payload.teacherProfile = compact(payload.teacherProfile);\n  if (payload.staffProfile) payload.staffProfile = compact(payload.staffProfile);\n\n  const response = await apiClient.patch(`/users/${userId}`, payload);\n  return normalizeUser(response.data);\n};\n\nexport const deleteUser = async (userId) => {\n  const response = await apiClient.delete(`/users/${userId}`);\n  return response.data;\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 537, "column": 0}, "map": {"version":3,"sources":["file:///home/siripoom/tas/tas-front/src/services/typeActivity.js"],"sourcesContent":["import apiClient from \"./apiClient\";\n\nexport const getAllTypeActivities = async (params = {}) => {\n  const response = await apiClient.get(\"/activity-types\", { params });\n  return Array.isArray(response.data) ? response.data : [];\n};\n\nexport const getTypeActivityById = async (id) => {\n  const response = await apiClient.get(`/activity-types/${id}`);\n  return response.data;\n};\n\nexport const createTypeActivity = async (payload) => {\n  const response = await apiClient.post(\"/activity-types\", payload);\n  return response.data;\n};\n\nexport const updateTypeActivity = async (id, payload) => {\n  const response = await apiClient.patch(`/activity-types/${id}`, payload);\n  return response.data;\n};\n\nexport const deleteTypeActivity = async (id) => {\n  const response = await apiClient.delete(`/activity-types/${id}`);\n  return response.data;\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAEO,MAAM,uBAAuB,OAAO,SAAS,CAAC,CAAC;IACpD,MAAM,WAAW,MAAM,uIAAS,CAAC,GAAG,CAAC,mBAAmB;QAAE;IAAO;IACjE,OAAO,MAAM,OAAO,CAAC,SAAS,IAAI,IAAI,SAAS,IAAI,GAAG,EAAE;AAC1D;AAEO,MAAM,sBAAsB,OAAO;IACxC,MAAM,WAAW,MAAM,uIAAS,CAAC,GAAG,CAAC,CAAC,gBAAgB,EAAE,IAAI;IAC5D,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,qBAAqB,OAAO;IACvC,MAAM,WAAW,MAAM,uIAAS,CAAC,IAAI,CAAC,mBAAmB;IACzD,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,qBAAqB,OAAO,IAAI;IAC3C,MAAM,WAAW,MAAM,uIAAS,CAAC,KAAK,CAAC,CAAC,gBAAgB,EAAE,IAAI,EAAE;IAChE,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,qBAAqB,OAAO;IACvC,MAAM,WAAW,MAAM,uIAAS,CAAC,MAAM,CAAC,CAAC,gBAAgB,EAAE,IAAI;IAC/D,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 577, "column": 0}, "map": {"version":3,"sources":["file:///home/siripoom/tas/tas-front/src/services/attendance.js"],"sourcesContent":["import { getActivityById, getAllActivities } from \"./activity\";\nimport apiClient from \"./apiClient\";\nimport {\n  mapApplicationStatusFromApi,\n  mapLegacyAttendanceAction,\n  normalizeAttendance,\n} from \"./compat\";\n\nconst flattenAttendances = (activities) =>\n  activities.flatMap((activity) =>\n    (activity.attendances || []).map((attendance) => ({\n      ...attendance,\n      activityId: attendance.activityId || activity.id,\n      activity,\n    })),\n  );\n\n// Get all attendances\nexport const getAllAttendances = async () => {\n  const activities = await getAllActivities();\n  return flattenAttendances(activities);\n};\n\n// Get attendance by ID\nexport const getAttendanceById = async (id) => {\n  const attendances = await getAllAttendances();\n  return attendances.find((attendance) => attendance.id === id) || null;\n};\n\n// Create new attendance\nexport const createAttendance = async (data) => {\n  const activityId = data.activityId;\n  if (!activityId) {\n    throw new Error(\"activityId is required\");\n  }\n\n  const response = await apiClient.post(`/activities/${activityId}/apply`);\n  return {\n    id: response.data.id,\n    activityId: response.data.activityId,\n    userId: response.data.studentUserId,\n    status: mapApplicationStatusFromApi(response.data.status),\n    reason: response.data.remark || null,\n    createdAt: response.data.submittedAt,\n    updatedAt: response.data.updatedAt,\n  };\n};\n\n// Update attendance\nexport const updateAttendance = async (id, data = {}) => {\n  const action = mapLegacyAttendanceAction(data.status);\n  const endpoint = action === \"approve\" ? \"approve\" : \"request-revision\";\n\n  const response = await apiClient.post(`/approvals/${id}/${endpoint}`, {\n    remark: data.remark || data.reason || data.rejectReason,\n  });\n\n  return normalizeAttendance(response.data);\n};\n\n// Delete attendance (compat)\nexport const deleteAttendance = async (_id) => {\n  return { success: true };\n};\n\n// Get attendances by user\nexport const getAttendancesByUser = async (userId) => {\n  const attendances = await getAllAttendances();\n  return attendances.filter(\n    (attendance) =>\n      attendance.userId === userId ||\n      attendance.user?.id === userId ||\n      attendance.user?.id === String(userId),\n  );\n};\n\n// Get attendances by activity\nexport const getAttendancesByActivity = async (activityId) => {\n  const activity = await getActivityById(activityId);\n\n  return (activity.attendances || []).map((attendance) => ({\n    ...attendance,\n    activityId,\n    activity,\n  }));\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AACA;AACA;;;;AAMA,MAAM,qBAAqB,CAAC,aAC1B,WAAW,OAAO,CAAC,CAAC,WAClB,CAAC,SAAS,WAAW,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,aAAe,CAAC;gBAChD,GAAG,UAAU;gBACb,YAAY,WAAW,UAAU,IAAI,SAAS,EAAE;gBAChD;YACF,CAAC;AAIE,MAAM,oBAAoB;IAC/B,MAAM,aAAa,MAAM;IACzB,OAAO,mBAAmB;AAC5B;AAGO,MAAM,oBAAoB,OAAO;IACtC,MAAM,cAAc,MAAM;IAC1B,OAAO,YAAY,IAAI,CAAC,CAAC,aAAe,WAAW,EAAE,KAAK,OAAO;AACnE;AAGO,MAAM,mBAAmB,OAAO;IACrC,MAAM,aAAa,KAAK,UAAU;IAClC,IAAI,CAAC,YAAY;QACf,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,WAAW,MAAM,uIAAS,CAAC,IAAI,CAAC,CAAC,YAAY,EAAE,WAAW,MAAM,CAAC;IACvE,OAAO;QACL,IAAI,SAAS,IAAI,CAAC,EAAE;QACpB,YAAY,SAAS,IAAI,CAAC,UAAU;QACpC,QAAQ,SAAS,IAAI,CAAC,aAAa;QACnC,QAAQ,IAAA,wJAA2B,EAAC,SAAS,IAAI,CAAC,MAAM;QACxD,QAAQ,SAAS,IAAI,CAAC,MAAM,IAAI;QAChC,WAAW,SAAS,IAAI,CAAC,WAAW;QACpC,WAAW,SAAS,IAAI,CAAC,SAAS;IACpC;AACF;AAGO,MAAM,mBAAmB,OAAO,IAAI,OAAO,CAAC,CAAC;IAClD,MAAM,SAAS,IAAA,sJAAyB,EAAC,KAAK,MAAM;IACpD,MAAM,WAAW,WAAW,YAAY,YAAY;IAEpD,MAAM,WAAW,MAAM,uIAAS,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,GAAG,CAAC,EAAE,UAAU,EAAE;QACpE,QAAQ,KAAK,MAAM,IAAI,KAAK,MAAM,IAAI,KAAK,YAAY;IACzD;IAEA,OAAO,IAAA,gJAAmB,EAAC,SAAS,IAAI;AAC1C;AAGO,MAAM,mBAAmB,OAAO;IACrC,OAAO;QAAE,SAAS;IAAK;AACzB;AAGO,MAAM,uBAAuB,OAAO;IACzC,MAAM,cAAc,MAAM;IAC1B,OAAO,YAAY,MAAM,CACvB,CAAC,aACC,WAAW,MAAM,KAAK,UACtB,WAAW,IAAI,EAAE,OAAO,UACxB,WAAW,IAAI,EAAE,OAAO,OAAO;AAErC;AAGO,MAAM,2BAA2B,OAAO;IAC7C,MAAM,WAAW,MAAM,gBAAgB;IAEvC,OAAO,CAAC,SAAS,WAAW,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,aAAe,CAAC;YACvD,GAAG,UAAU;YACb;YACA;QACF,CAAC;AACH"}},
    {"offset": {"line": 661, "column": 0}, "map": {"version":3,"sources":["file:///home/siripoom/tas/tas-front/src/app/admin/home/page.js"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Card, Row, Col, Select, Progress, Tag, Spin } from \"antd\";\nimport {\n  Users,\n  Calendar,\n  FileText,\n  Activity,\n  Clock,\n  CheckCircle,\n  TrendingUp,\n} from \"lucide-react\";\nimport { getAllUsers } from \"@/services/user\";\nimport { getAllActivities, getActivitiesWithQuery } from \"@/services/activity\";\nimport { getAllTypeActivities } from \"@/services/typeActivity\";\nimport { getAllAttendances } from \"@/services/attendance\";\n\nconst { Option } = Select;\n\nexport default function AdminHome() {\n  const themeColor = \"#0A894C\";\n  const [selectedDepartment, setSelectedDepartment] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [activities, setActivities] = useState([]);\n  const [typeActivities, setTypeActivities] = useState([]);\n  const [attendances, setAttendances] = useState([]);\n  const [categoryActivities, setCategoryActivities] = useState([]);\n  const [departmentMap, setDepartmentMap] = useState(new Map());\n\n  // Fetch data from API\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    setLoading(true);\n    try {\n      const [usersData, activitiesData, typeActivitiesData, attendancesData] =\n        await Promise.all([\n          getAllUsers(),\n          getAllActivities(),\n          getAllTypeActivities(),\n          getAllAttendances(),\n        ]);\n\n      setUsers(usersData);\n      setActivities(activitiesData);\n      setTypeActivities(typeActivitiesData);\n      setAttendances(attendancesData);\n\n      // Build department name to ID mapping\n      const deptMap = new Map();\n      activitiesData.forEach((activity) => {\n        if (activity.department?.id && activity.department?.name) {\n          deptMap.set(activity.department.name, activity.department.id);\n        }\n      });\n      setDepartmentMap(deptMap);\n\n      // Set default department to first available\n      if (activitiesData.length > 0 && !selectedDepartment) {\n        const firstDept = activitiesData.find((a) => a.department)?.department\n          ?.name;\n        if (firstDept) {\n          setSelectedDepartment(firstDept);\n        }\n      }\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch category activities when department changes\n  useEffect(() => {\n    const fetchCategoryActivities = async () => {\n      if (!selectedDepartment) {\n        setCategoryActivities([]);\n        return;\n      }\n\n      const departmentId = departmentMap.get(selectedDepartment);\n      if (!departmentId) {\n        setCategoryActivities([]);\n        return;\n      }\n\n      try {\n        setLoading(true);\n        const data = await getActivitiesWithQuery({\n          departmentId,\n        });\n        setCategoryActivities(data.activities || []);\n      } catch (error) {\n        console.error(\"Error fetching category activities:\", error);\n        setCategoryActivities([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (departmentMap.size > 0) {\n      fetchCategoryActivities();\n    }\n  }, [selectedDepartment, departmentMap]);\n\n  // Calculate stats from real data\n  const getStats = () => {\n    const totalUsers = users.length;\n    const totalEvents = activities.length;\n    const activeEvents = activities.filter(\n      (a) => a.status === \"IN_PROGRESS\"\n    ).length;\n    const pendingReports = activities.filter(\n      (a) => a.status === \"OPEN_REGISTRATION\"\n    ).length;\n\n    return [\n      {\n        title: \"Total Users\",\n        value: totalUsers,\n        icon: <Users size={24} style={{ color: themeColor }} />,\n        color: themeColor,\n      },\n      {\n        title: \"Total Events\",\n        value: totalEvents,\n        icon: <Calendar size={24} style={{ color: \"#0db359\" }} />,\n        color: \"#0db359\",\n      },\n      {\n        title: \"Pending Reports\",\n        value: pendingReports,\n        icon: <FileText size={24} style={{ color: \"#086b3d\" }} />,\n        color: \"#086b3d\",\n      },\n      {\n        title: \"Active Events\",\n        value: activeEvents,\n        icon: <Activity size={24} style={{ color: \"#05c168\" }} />,\n        color: \"#05c168\",\n      },\n    ];\n  };\n\n  // Get unique departments from activities\n  const getDepartments = () => {\n    const deptSet = new Set();\n    activities.forEach((activity) => {\n      if (activity.department?.name) {\n        deptSet.add(activity.department.name);\n      }\n    });\n    return Array.from(deptSet);\n  };\n\n  const departments = getDepartments();\n\n  // Category colors and icons mapping (matching API response type activity names)\n  const categoryConfig = {\n    วิชาการ: {\n      color: \"#0A894C\",\n      icon: <FileText size={20} />,\n      nameEn: \"Academic Activities\",\n    },\n    กีฬา: {\n      color: \"#1890ff\",\n      icon: <Activity size={20} />,\n      nameEn: \"Sports & Recreation\",\n    },\n    จิตอาสา: {\n      color: \"#52c41a\",\n      icon: <Users size={20} />,\n      nameEn: \"Community Service\",\n    },\n    นิสิตสัมพันธ์: {\n      color: \"#fa8c16\",\n      icon: <Users size={20} />,\n      nameEn: \"Student Relations\",\n    },\n    ศิลปวัฒนธรรม: {\n      color: \"#eb2f96\",\n      icon: <Calendar size={20} />,\n      nameEn: \"Arts & Culture\",\n    },\n    คุณธรรม: {\n      color: \"#722ed1\",\n      icon: <CheckCircle size={20} />,\n      nameEn: \"Ethics & Moral Development\",\n    },\n  };\n\n  // Get current activity data based on selected department\n  const getCurrentActivityData = () => {\n    // Use categoryActivities fetched from API (no client-side filtering)\n    const filteredActivities = categoryActivities;\n\n    // Group by typeActivity and calculate hours\n    const categoryMap = new Map();\n\n    filteredActivities.forEach((activity) => {\n      const categoryName = activity.typeActivity?.name;\n      if (!categoryName) return;\n\n      if (!categoryMap.has(categoryName)) {\n        categoryMap.set(categoryName, {\n          id: activity.typeActivity.id,\n          name: categoryName,\n          nameEn: categoryConfig[categoryName]?.nameEn || categoryName,\n          eventsCount: 0,\n          currentHours: 0,\n          targetHours: 60, // Default target hours\n          color: categoryConfig[categoryName]?.color || \"#0A894C\",\n          icon: categoryConfig[categoryName]?.icon || <FileText size={20} />,\n        });\n      }\n\n      const category = categoryMap.get(categoryName);\n      category.eventsCount += 1;\n      category.currentHours += activity.hour || 0;\n    });\n\n    return Array.from(categoryMap.values());\n  };\n\n  // Get recent activities\n  const getRecentActivities = () => {\n    return activities\n      .sort(\n        (a, b) =>\n          new Date(b.updatedAt || b.createdAt) -\n          new Date(a.updatedAt || a.createdAt)\n      )\n      .slice(0, 4);\n  };\n\n  return (\n    <Spin spinning={loading}>\n      <div>\n        <Row gutter={[16, 16]}>\n          {getStats().map((stat, index) => (\n            <Col xs={24} sm={12} lg={6} key={index}>\n              <Card\n                hoverable\n                className=\"shadow-sm\"\n                styles={{\n                  body: { padding: \"24px\" },\n                }}\n              >\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-gray-500 text-sm mb-1\">{stat.title}</p>\n                    <p\n                      className=\"text-2xl font-bold\"\n                      style={{ color: stat.color }}\n                    >\n                      {stat.value}\n                    </p>\n                  </div>\n                  <div\n                    className=\"p-3 rounded-full\"\n                    style={{ backgroundColor: `${stat.color}15` }}\n                  >\n                    {stat.icon}\n                  </div>\n                </div>\n              </Card>\n            </Col>\n          ))}\n        </Row>\n        <br />\n        {/* Activity Categories Section */}\n        <Card\n          className=\"mt-6 shadow-sm\"\n          styles={{\n            header: {\n              backgroundColor: \"#e8f5e9\",\n              borderBottom: \"2px solid #0A894C\",\n              color: \"#086b3d\",\n              fontWeight: \"600\",\n            },\n          }}\n          title={\n            <div className=\"flex items-center gap-2 \">\n              <Clock size={20} style={{ color: \"#0A894C\" }} />\n              <span>จำนวนชั่วโมงกิจกรรม 6 หมวด</span>\n            </div>\n          }\n        >\n          {/* Filters */}\n          <div className=\"mb-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                ภาควิชา (Department)\n              </label>\n              <Select\n                value={selectedDepartment}\n                onChange={setSelectedDepartment}\n                style={{ width: \"100%\" }}\n                size=\"large\"\n              >\n                {departments.map((dept) => (\n                  <Option key={dept} value={dept}>\n                    {dept}\n                  </Option>\n                ))}\n              </Select>\n            </div>\n          </div>\n\n          {/* Activity Categories Grid */}\n          <Row gutter={[16, 16]}>\n            {getCurrentActivityData().map((category) => {\n              const percentage = Math.round(\n                (category.currentHours / category.targetHours) * 100\n              );\n              const remainingHours =\n                category.targetHours - category.currentHours;\n              const isComplete = category.currentHours >= category.targetHours;\n\n              return (\n                <Col xs={24} md={12} lg={8} key={category.id}>\n                  <Card\n                    hoverable\n                    className=\"h-full\"\n                    style={{\n                      borderLeft: `4px solid ${category.color}`,\n                      backgroundColor: \"#fafafa\",\n                    }}\n                  >\n                    <div className=\"space-y-3\">\n                      {/* Category Header */}\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex items-start gap-3\">\n                          <div\n                            className=\"p-2 rounded-lg\"\n                            style={{\n                              backgroundColor: `${category.color}15`,\n                              color: category.color,\n                            }}\n                          >\n                            {category.icon}\n                          </div>\n                          <div>\n                            <h4\n                              className=\"font-semibold text-sm mb-1\"\n                              style={{ color: category.color }}\n                            >\n                              {category.name}\n                            </h4>\n                            <p className=\"text-xs text-gray-500\">\n                              {category.nameEn}\n                            </p>\n                          </div>\n                        </div>\n                        {isComplete && (\n                          <div\n                            className=\"p-1 rounded-full\"\n                            style={{ backgroundColor: \"#52c41a15\" }}\n                          >\n                            <CheckCircle\n                              size={16}\n                              style={{ color: \"#52c41a\" }}\n                            />\n                          </div>\n                        )}\n                      </div>\n\n                      {/* Statistics */}\n                      <div className=\"grid grid-cols-3 gap-2 pt-2 border-t\">\n                        <div className=\"text-center\">\n                          <p className=\"text-xs text-gray-500 mb-1\">กิจกรรม</p>\n                          <p className=\"text-lg font-bold text-gray-800\">\n                            {category.eventsCount}\n                          </p>\n                        </div>\n                        <div className=\"text-center border-l border-r\">\n                          <p className=\"text-xs text-gray-500 mb-1\">ชั่วโมง</p>\n                          <p\n                            className=\"text-lg font-bold\"\n                            style={{\n                              color: isComplete ? \"#52c41a\" : category.color,\n                            }}\n                          >\n                            {category.currentHours}\n                          </p>\n                        </div>\n                        <div className=\"text-center\">\n                          <p className=\"text-xs text-gray-500 mb-1\">\n                            {remainingHours > 0 ? \"ขาด\" : \"เกิน\"}\n                          </p>\n                          <p\n                            className=\"text-lg font-bold\"\n                            style={{\n                              color:\n                                remainingHours > 0\n                                  ? \"#fa8c16\"\n                                  : remainingHours < 0\n                                  ? \"#52c41a\"\n                                  : \"#0A894C\",\n                            }}\n                          >\n                            {Math.abs(remainingHours)}\n                          </p>\n                        </div>\n                      </div>\n\n                      {/* Progress Bar */}\n                      <div className=\"space-y-1\">\n                        <div className=\"flex justify-between text-xs\">\n                          <span className=\"text-gray-600\">ความคืบหน้า</span>\n                          <span\n                            className=\"font-semibold\"\n                            style={{\n                              color: isComplete ? \"#52c41a\" : category.color,\n                            }}\n                          >\n                            {category.currentHours}/{category.targetHours} ชม.\n                          </span>\n                        </div>\n                        <Progress\n                          percent={percentage}\n                          strokeColor={\n                            isComplete\n                              ? \"#52c41a\"\n                              : percentage >= 80\n                              ? category.color\n                              : percentage >= 50\n                              ? \"#fa8c16\"\n                              : \"#f5222d\"\n                          }\n                          showInfo={false}\n                          size=\"small\"\n                        />\n                        <div className=\"flex justify-between text-xs text-gray-500\">\n                          <span>0%</span>\n                          <span className=\"font-medium\">{percentage}%</span>\n                          <span>100%</span>\n                        </div>\n                      </div>\n\n                      {/* Status Badge */}\n                      <div className=\"pt-2 border-t\">\n                        {isComplete ? (\n                          <div className=\"flex items-center justify-center gap-2 py-1 px-3 rounded-full bg-green-50\">\n                            <CheckCircle\n                              size={14}\n                              style={{ color: \"#52c41a\" }}\n                            />\n                            <span className=\"text-xs font-medium text-green-700\">\n                              ครบชั่วโมงแล้ว\n                            </span>\n                          </div>\n                        ) : remainingHours <= 10 ? (\n                          <div className=\"flex items-center justify-center gap-2 py-1 px-3 rounded-full bg-orange-50\">\n                            <TrendingUp\n                              size={14}\n                              style={{ color: \"#fa8c16\" }}\n                            />\n                            <span className=\"text-xs font-medium text-orange-700\">\n                              ใกล้ครบชั่วโมง\n                            </span>\n                          </div>\n                        ) : (\n                          <div className=\"flex items-center justify-center gap-2 py-1 px-3 rounded-full bg-gray-100\">\n                            <Clock size={14} style={{ color: \"#666\" }} />\n                            <span className=\"text-xs font-medium text-gray-600\">\n                              ดำเนินการต่อ\n                            </span>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </Card>\n                </Col>\n              );\n            })}\n          </Row>\n\n          {/* Summary */}\n          {getCurrentActivityData().length > 0 && (\n            <div className=\"mt-6 p-4 rounded-lg bg-green-50 border border-green-200\">\n              <div className=\"flex items-center justify-between flex-wrap gap-4\">\n                <div className=\"flex items-center gap-3\">\n                  <div\n                    className=\"p-2 rounded-full\"\n                    style={{ backgroundColor: \"#0A894C\" }}\n                  >\n                    <TrendingUp size={20} style={{ color: \"white\" }} />\n                  </div>\n                  <div>\n                    <p className=\"text-sm font-semibold text-gray-800\">\n                      สรุปภาพรวม {selectedDepartment}\n                    </p>\n                    <p className=\"text-xs text-gray-600\">\n                      จำนวนกิจกรรมทั้งหมด:{\" \"}\n                      {getCurrentActivityData().reduce(\n                        (sum, cat) => sum + cat.eventsCount,\n                        0\n                      )}{\" \"}\n                      กิจกรรม | ชั่วโมงรวม:{\" \"}\n                      {getCurrentActivityData().reduce(\n                        (sum, cat) => sum + cat.currentHours,\n                        0\n                      )}\n                      /\n                      {getCurrentActivityData().reduce(\n                        (sum, cat) => sum + cat.targetHours,\n                        0\n                      )}{\" \"}\n                      ชั่วโมง\n                    </p>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-xs text-gray-600\">ความคืบหน้ารวม:</span>\n                  <span\n                    className=\"text-lg font-bold\"\n                    style={{ color: \"#0A894C\" }}\n                  >\n                    {Math.round(\n                      (getCurrentActivityData().reduce(\n                        (sum, cat) => sum + cat.currentHours,\n                        0\n                      ) /\n                        getCurrentActivityData().reduce(\n                          (sum, cat) => sum + cat.targetHours,\n                          0\n                        )) *\n                        100\n                    )}\n                    %\n                  </span>\n                </div>\n              </div>\n            </div>\n          )}\n        </Card>\n\n        <Row gutter={[16, 16]} className=\"mt-6\">\n          <Col xs={24} lg={16}>\n            <Card\n              title=\"Recent Activities\"\n              className=\"shadow-sm\"\n              styles={{\n                header: {\n                  backgroundColor: \"#e8f5e9\",\n                  borderBottom: \"2px solid #0A894C\",\n                  color: \"#086b3d\",\n                  fontWeight: \"600\",\n                },\n              }}\n            >\n              <div className=\"space-y-3\">\n                {getRecentActivities().map((activity, index) => {\n                  const timeAgo = activity.updatedAt\n                    ? new Date(activity.updatedAt).toLocaleDateString(\"th-TH\")\n                    : new Date(activity.createdAt).toLocaleDateString(\"th-TH\");\n\n                  return (\n                    <div\n                      key={activity.id}\n                      className=\"flex items-center justify-between p-3 rounded-lg transition-colors\"\n                      style={{\n                        backgroundColor: \"#f1f8f4\",\n                        borderLeft: \"3px solid #0A894C\",\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = \"#e8f5e9\";\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = \"#f1f8f4\";\n                      }}\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        <div\n                          className=\"w-2 h-2 rounded-full\"\n                          style={{ backgroundColor: \"#0A894C\" }}\n                        ></div>\n                        <div>\n                          <p className=\"text-sm font-medium text-gray-800\">\n                            {activity.name}\n                          </p>\n                          <p className=\"text-xs text-gray-500\">\n                            {activity.department?.name} • {timeAgo}\n                          </p>\n                        </div>\n                      </div>\n                        <Tag\n                          color={\n                          activity.status === \"CLOSED\"\n                            ? \"green\"\n                            : activity.status === \"IN_PROGRESS\"\n                            ? \"blue\"\n                            : activity.status === \"CANCELLED\"\n                            ? \"red\"\n                            : \"orange\"\n                        }\n                      >\n                        {activity.status}\n                      </Tag>\n                    </div>\n                  );\n                })}\n              </div>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    </Spin>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;;;;;;AAEA;AACA;AAhBA;;;;;;;;;AAkBA,MAAM,EAAE,MAAM,EAAE,GAAG,4LAAM;AAEV,SAAS;IACtB,MAAM,aAAa;IACnB,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,iNAAQ,EAAC;IAC7D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC,EAAE;IACrC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAC/C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAC,EAAE;IACvD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC,EAAE;IACjD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAC/D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC,IAAI;IAEvD,sBAAsB;IACtB,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,YAAY;QAChB,WAAW;QACX,IAAI;YACF,MAAM,CAAC,WAAW,gBAAgB,oBAAoB,gBAAgB,GACpE,MAAM,QAAQ,GAAG,CAAC;gBAChB,IAAA,sIAAW;gBACX;gBACA,IAAA,uJAAoB;gBACpB,IAAA,kJAAiB;aAClB;YAEH,SAAS;YACT,cAAc;YACd,kBAAkB;YAClB,eAAe;YAEf,sCAAsC;YACtC,MAAM,UAAU,IAAI;YACpB,eAAe,OAAO,CAAC,CAAC;gBACtB,IAAI,SAAS,UAAU,EAAE,MAAM,SAAS,UAAU,EAAE,MAAM;oBACxD,QAAQ,GAAG,CAAC,SAAS,UAAU,CAAC,IAAI,EAAE,SAAS,UAAU,CAAC,EAAE;gBAC9D;YACF;YACA,iBAAiB;YAEjB,4CAA4C;YAC5C,IAAI,eAAe,MAAM,GAAG,KAAK,CAAC,oBAAoB;gBACpD,MAAM,YAAY,eAAe,IAAI,CAAC,CAAC,IAAM,EAAE,UAAU,GAAG,YACxD;gBACJ,IAAI,WAAW;oBACb,sBAAsB;gBACxB;YACF;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;QACxC,SAAU;YACR,WAAW;QACb;IACF;IAEA,oDAAoD;IACpD,IAAA,kNAAS,EAAC;QACR,MAAM,0BAA0B;YAC9B,IAAI,CAAC,oBAAoB;gBACvB,sBAAsB,EAAE;gBACxB;YACF;YAEA,MAAM,eAAe,cAAc,GAAG,CAAC;YACvC,IAAI,CAAC,cAAc;gBACjB,sBAAsB,EAAE;gBACxB;YACF;YAEA,IAAI;gBACF,WAAW;gBACX,MAAM,OAAO,MAAM,uBAAuB;oBACxC;gBACF;gBACA,sBAAsB,KAAK,UAAU,IAAI,EAAE;YAC7C,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,uCAAuC;gBACrD,sBAAsB,EAAE;YAC1B,SAAU;gBACR,WAAW;YACb;QACF;QAEA,IAAI,cAAc,IAAI,GAAG,GAAG;YAC1B;QACF;IACF,GAAG;QAAC;QAAoB;KAAc;IAEtC,iCAAiC;IACjC,MAAM,WAAW;QACf,MAAM,aAAa,MAAM,MAAM;QAC/B,MAAM,cAAc,WAAW,MAAM;QACrC,MAAM,eAAe,WAAW,MAAM,CACpC,CAAC,IAAM,EAAE,MAAM,KAAK,eACpB,MAAM;QACR,MAAM,iBAAiB,WAAW,MAAM,CACtC,CAAC,IAAM,EAAE,MAAM,KAAK,qBACpB,MAAM;QAER,OAAO;YACL;gBACE,OAAO;gBACP,OAAO;gBACP,oBAAM,8OAAC,6MAAK;oBAAC,MAAM;oBAAI,OAAO;wBAAE,OAAO;oBAAW;;;;;;gBAClD,OAAO;YACT;YACA;gBACE,OAAO;gBACP,OAAO;gBACP,oBAAM,8OAAC,sNAAQ;oBAAC,MAAM;oBAAI,OAAO;wBAAE,OAAO;oBAAU;;;;;;gBACpD,OAAO;YACT;YACA;gBACE,OAAO;gBACP,OAAO;gBACP,oBAAM,8OAAC,0NAAQ;oBAAC,MAAM;oBAAI,OAAO;wBAAE,OAAO;oBAAU;;;;;;gBACpD,OAAO;YACT;YACA;gBACE,OAAO;gBACP,OAAO;gBACP,oBAAM,8OAAC,sNAAQ;oBAAC,MAAM;oBAAI,OAAO;wBAAE,OAAO;oBAAU;;;;;;gBACpD,OAAO;YACT;SACD;IACH;IAEA,yCAAyC;IACzC,MAAM,iBAAiB;QACrB,MAAM,UAAU,IAAI;QACpB,WAAW,OAAO,CAAC,CAAC;YAClB,IAAI,SAAS,UAAU,EAAE,MAAM;gBAC7B,QAAQ,GAAG,CAAC,SAAS,UAAU,CAAC,IAAI;YACtC;QACF;QACA,OAAO,MAAM,IAAI,CAAC;IACpB;IAEA,MAAM,cAAc;IAEpB,gFAAgF;IAChF,MAAM,iBAAiB;QACrB,SAAS;YACP,OAAO;YACP,oBAAM,8OAAC,0NAAQ;gBAAC,MAAM;;;;;;YACtB,QAAQ;QACV;QACA,MAAM;YACJ,OAAO;YACP,oBAAM,8OAAC,sNAAQ;gBAAC,MAAM;;;;;;YACtB,QAAQ;QACV;QACA,SAAS;YACP,OAAO;YACP,oBAAM,8OAAC,6MAAK;gBAAC,MAAM;;;;;;YACnB,QAAQ;QACV;QACA,eAAe;YACb,OAAO;YACP,oBAAM,8OAAC,6MAAK;gBAAC,MAAM;;;;;;YACnB,QAAQ;QACV;QACA,cAAc;YACZ,OAAO;YACP,oBAAM,8OAAC,sNAAQ;gBAAC,MAAM;;;;;;YACtB,QAAQ;QACV;QACA,SAAS;YACP,OAAO;YACP,oBAAM,8OAAC,0OAAW;gBAAC,MAAM;;;;;;YACzB,QAAQ;QACV;IACF;IAEA,yDAAyD;IACzD,MAAM,yBAAyB;QAC7B,qEAAqE;QACrE,MAAM,qBAAqB;QAE3B,4CAA4C;QAC5C,MAAM,cAAc,IAAI;QAExB,mBAAmB,OAAO,CAAC,CAAC;YAC1B,MAAM,eAAe,SAAS,YAAY,EAAE;YAC5C,IAAI,CAAC,cAAc;YAEnB,IAAI,CAAC,YAAY,GAAG,CAAC,eAAe;gBAClC,YAAY,GAAG,CAAC,cAAc;oBAC5B,IAAI,SAAS,YAAY,CAAC,EAAE;oBAC5B,MAAM;oBACN,QAAQ,cAAc,CAAC,aAAa,EAAE,UAAU;oBAChD,aAAa;oBACb,cAAc;oBACd,aAAa;oBACb,OAAO,cAAc,CAAC,aAAa,EAAE,SAAS;oBAC9C,MAAM,cAAc,CAAC,aAAa,EAAE,sBAAQ,8OAAC,0NAAQ;wBAAC,MAAM;;;;;;gBAC9D;YACF;YAEA,MAAM,WAAW,YAAY,GAAG,CAAC;YACjC,SAAS,WAAW,IAAI;YACxB,SAAS,YAAY,IAAI,SAAS,IAAI,IAAI;QAC5C;QAEA,OAAO,MAAM,IAAI,CAAC,YAAY,MAAM;IACtC;IAEA,wBAAwB;IACxB,MAAM,sBAAsB;QAC1B,OAAO,WACJ,IAAI,CACH,CAAC,GAAG,IACF,IAAI,KAAK,EAAE,SAAS,IAAI,EAAE,SAAS,IACnC,IAAI,KAAK,EAAE,SAAS,IAAI,EAAE,SAAS,GAEtC,KAAK,CAAC,GAAG;IACd;IAEA,qBACE,8OAAC,sLAAI;QAAC,UAAU;kBACd,cAAA,8OAAC;;8BACC,8OAAC,mLAAG;oBAAC,QAAQ;wBAAC;wBAAI;qBAAG;8BAClB,WAAW,GAAG,CAAC,CAAC,MAAM,sBACrB,8OAAC,mLAAG;4BAAC,IAAI;4BAAI,IAAI;4BAAI,IAAI;sCACvB,cAAA,8OAAC,sLAAI;gCACH,SAAS;gCACT,WAAU;gCACV,QAAQ;oCACN,MAAM;wCAAE,SAAS;oCAAO;gCAC1B;0CAEA,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;;8DACC,8OAAC;oDAAE,WAAU;8DAA8B,KAAK,KAAK;;;;;;8DACrD,8OAAC;oDACC,WAAU;oDACV,OAAO;wDAAE,OAAO,KAAK,KAAK;oDAAC;8DAE1B,KAAK,KAAK;;;;;;;;;;;;sDAGf,8OAAC;4CACC,WAAU;4CACV,OAAO;gDAAE,iBAAiB,GAAG,KAAK,KAAK,CAAC,EAAE,CAAC;4CAAC;sDAE3C,KAAK,IAAI;;;;;;;;;;;;;;;;;2BAtBe;;;;;;;;;;8BA6BrC,8OAAC;;;;;8BAED,8OAAC,sLAAI;oBACH,WAAU;oBACV,QAAQ;wBACN,QAAQ;4BACN,iBAAiB;4BACjB,cAAc;4BACd,OAAO;4BACP,YAAY;wBACd;oBACF;oBACA,qBACE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,6MAAK;gCAAC,MAAM;gCAAI,OAAO;oCAAE,OAAO;gCAAU;;;;;;0CAC3C,8OAAC;0CAAK;;;;;;;;;;;;;sCAKV,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;;kDACC,8OAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,8OAAC,4LAAM;wCACL,OAAO;wCACP,UAAU;wCACV,OAAO;4CAAE,OAAO;wCAAO;wCACvB,MAAK;kDAEJ,YAAY,GAAG,CAAC,CAAC,qBAChB,8OAAC;gDAAkB,OAAO;0DACvB;+CADU;;;;;;;;;;;;;;;;;;;;;sCASrB,8OAAC,mLAAG;4BAAC,QAAQ;gCAAC;gCAAI;6BAAG;sCAClB,yBAAyB,GAAG,CAAC,CAAC;gCAC7B,MAAM,aAAa,KAAK,KAAK,CAC3B,AAAC,SAAS,YAAY,GAAG,SAAS,WAAW,GAAI;gCAEnD,MAAM,iBACJ,SAAS,WAAW,GAAG,SAAS,YAAY;gCAC9C,MAAM,aAAa,SAAS,YAAY,IAAI,SAAS,WAAW;gCAEhE,qBACE,8OAAC,mLAAG;oCAAC,IAAI;oCAAI,IAAI;oCAAI,IAAI;8CACvB,cAAA,8OAAC,sLAAI;wCACH,SAAS;wCACT,WAAU;wCACV,OAAO;4CACL,YAAY,CAAC,UAAU,EAAE,SAAS,KAAK,EAAE;4CACzC,iBAAiB;wCACnB;kDAEA,cAAA,8OAAC;4CAAI,WAAU;;8DAEb,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEACC,WAAU;oEACV,OAAO;wEACL,iBAAiB,GAAG,SAAS,KAAK,CAAC,EAAE,CAAC;wEACtC,OAAO,SAAS,KAAK;oEACvB;8EAEC,SAAS,IAAI;;;;;;8EAEhB,8OAAC;;sFACC,8OAAC;4EACC,WAAU;4EACV,OAAO;gFAAE,OAAO,SAAS,KAAK;4EAAC;sFAE9B,SAAS,IAAI;;;;;;sFAEhB,8OAAC;4EAAE,WAAU;sFACV,SAAS,MAAM;;;;;;;;;;;;;;;;;;wDAIrB,4BACC,8OAAC;4DACC,WAAU;4DACV,OAAO;gEAAE,iBAAiB;4DAAY;sEAEtC,cAAA,8OAAC,0OAAW;gEACV,MAAM;gEACN,OAAO;oEAAE,OAAO;gEAAU;;;;;;;;;;;;;;;;;8DAOlC,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAE,WAAU;8EAA6B;;;;;;8EAC1C,8OAAC;oEAAE,WAAU;8EACV,SAAS,WAAW;;;;;;;;;;;;sEAGzB,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAE,WAAU;8EAA6B;;;;;;8EAC1C,8OAAC;oEACC,WAAU;oEACV,OAAO;wEACL,OAAO,aAAa,YAAY,SAAS,KAAK;oEAChD;8EAEC,SAAS,YAAY;;;;;;;;;;;;sEAG1B,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAE,WAAU;8EACV,iBAAiB,IAAI,QAAQ;;;;;;8EAEhC,8OAAC;oEACC,WAAU;oEACV,OAAO;wEACL,OACE,iBAAiB,IACb,YACA,iBAAiB,IACjB,YACA;oEACR;8EAEC,KAAK,GAAG,CAAC;;;;;;;;;;;;;;;;;;8DAMhB,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAK,WAAU;8EAAgB;;;;;;8EAChC,8OAAC;oEACC,WAAU;oEACV,OAAO;wEACL,OAAO,aAAa,YAAY,SAAS,KAAK;oEAChD;;wEAEC,SAAS,YAAY;wEAAC;wEAAE,SAAS,WAAW;wEAAC;;;;;;;;;;;;;sEAGlD,8OAAC,kMAAQ;4DACP,SAAS;4DACT,aACE,aACI,YACA,cAAc,KACd,SAAS,KAAK,GACd,cAAc,KACd,YACA;4DAEN,UAAU;4DACV,MAAK;;;;;;sEAEP,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;8EAAK;;;;;;8EACN,8OAAC;oEAAK,WAAU;;wEAAe;wEAAW;;;;;;;8EAC1C,8OAAC;8EAAK;;;;;;;;;;;;;;;;;;8DAKV,8OAAC;oDAAI,WAAU;8DACZ,2BACC,8OAAC;wDAAI,WAAU;;0EACb,8OAAC,0OAAW;gEACV,MAAM;gEACN,OAAO;oEAAE,OAAO;gEAAU;;;;;;0EAE5B,8OAAC;gEAAK,WAAU;0EAAqC;;;;;;;;;;;+DAIrD,kBAAkB,mBACpB,8OAAC;wDAAI,WAAU;;0EACb,8OAAC,gOAAU;gEACT,MAAM;gEACN,OAAO;oEAAE,OAAO;gEAAU;;;;;;0EAE5B,8OAAC;gEAAK,WAAU;0EAAsC;;;;;;;;;;;6EAKxD,8OAAC;wDAAI,WAAU;;0EACb,8OAAC,6MAAK;gEAAC,MAAM;gEAAI,OAAO;oEAAE,OAAO;gEAAO;;;;;;0EACxC,8OAAC;gEAAK,WAAU;0EAAoC;;;;;;;;;;;;;;;;;;;;;;;;;;;;mCAjJ/B,SAAS,EAAE;;;;;4BA2JhD;;;;;;wBAID,yBAAyB,MAAM,GAAG,mBACjC,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDACC,WAAU;gDACV,OAAO;oDAAE,iBAAiB;gDAAU;0DAEpC,cAAA,8OAAC,gOAAU;oDAAC,MAAM;oDAAI,OAAO;wDAAE,OAAO;oDAAQ;;;;;;;;;;;0DAEhD,8OAAC;;kEACC,8OAAC;wDAAE,WAAU;;4DAAsC;4DACrC;;;;;;;kEAEd,8OAAC;wDAAE,WAAU;;4DAAwB;4DACd;4DACpB,yBAAyB,MAAM,CAC9B,CAAC,KAAK,MAAQ,MAAM,IAAI,WAAW,EACnC;4DACC;4DAAI;4DACe;4DACrB,yBAAyB,MAAM,CAC9B,CAAC,KAAK,MAAQ,MAAM,IAAI,YAAY,EACpC;4DACA;4DAED,yBAAyB,MAAM,CAC9B,CAAC,KAAK,MAAQ,MAAM,IAAI,WAAW,EACnC;4DACC;4DAAI;;;;;;;;;;;;;;;;;;;kDAKb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAwB;;;;;;0DACxC,8OAAC;gDACC,WAAU;gDACV,OAAO;oDAAE,OAAO;gDAAU;;oDAEzB,KAAK,KAAK,CACT,AAAC,yBAAyB,MAAM,CAC9B,CAAC,KAAK,MAAQ,MAAM,IAAI,YAAY,EACpC,KAEA,yBAAyB,MAAM,CAC7B,CAAC,KAAK,MAAQ,MAAM,IAAI,WAAW,EACnC,KAEF;oDACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BASd,8OAAC,mLAAG;oBAAC,QAAQ;wBAAC;wBAAI;qBAAG;oBAAE,WAAU;8BAC/B,cAAA,8OAAC,mLAAG;wBAAC,IAAI;wBAAI,IAAI;kCACf,cAAA,8OAAC,sLAAI;4BACH,OAAM;4BACN,WAAU;4BACV,QAAQ;gCACN,QAAQ;oCACN,iBAAiB;oCACjB,cAAc;oCACd,OAAO;oCACP,YAAY;gCACd;4BACF;sCAEA,cAAA,8OAAC;gCAAI,WAAU;0CACZ,sBAAsB,GAAG,CAAC,CAAC,UAAU;oCACpC,MAAM,UAAU,SAAS,SAAS,GAC9B,IAAI,KAAK,SAAS,SAAS,EAAE,kBAAkB,CAAC,WAChD,IAAI,KAAK,SAAS,SAAS,EAAE,kBAAkB,CAAC;oCAEpD,qBACE,8OAAC;wCAEC,WAAU;wCACV,OAAO;4CACL,iBAAiB;4CACjB,YAAY;wCACd;wCACA,cAAc,CAAC;4CACb,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG;wCAC1C;wCACA,cAAc,CAAC;4CACb,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG;wCAC1C;;0DAEA,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDACC,WAAU;wDACV,OAAO;4DAAE,iBAAiB;wDAAU;;;;;;kEAEtC,8OAAC;;0EACC,8OAAC;gEAAE,WAAU;0EACV,SAAS,IAAI;;;;;;0EAEhB,8OAAC;gEAAE,WAAU;;oEACV,SAAS,UAAU,EAAE;oEAAK;oEAAI;;;;;;;;;;;;;;;;;;;0DAInC,8OAAC,mLAAG;gDACF,OACA,SAAS,MAAM,KAAK,WAChB,UACA,SAAS,MAAM,KAAK,gBACpB,SACA,SAAS,MAAM,KAAK,cACpB,QACA;0DAGL,SAAS,MAAM;;;;;;;uCAtCb,SAAS,EAAE;;;;;gCA0CtB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQhB"}}]
}