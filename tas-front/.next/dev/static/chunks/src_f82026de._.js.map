{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/siripoom/tas/tas-front/src/components/asset/Sidebar.js"],"sourcesContent":["\"use client\";\n\nimport { Layout, Menu } from \"antd\";\nimport {\n  Building2,\n  Calendar,\n  CalendarCheck,\n  FileText,\n  Home,\n  Tags,\n  Users,\n} from \"lucide-react\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport Image from \"next/image\";\n\nconst { Sider } = Layout;\n\nconst studentMenuItems = [\n  { key: \"/student/home\", icon: <Home size={20} />, label: \"หน้าหลัก\" },\n  {\n    key: \"/student/participation\",\n    icon: <CalendarCheck size={20} />,\n    label: \"กิจกรรม\",\n  },\n];\n\nconst teacherMenuItems = [\n  { key: \"/teacher/home\", icon: <Home size={20} />, label: \"หน้าหลัก\" },\n  {\n    key: \"/teacher/participation\",\n    icon: <CalendarCheck size={20} />,\n    label: \"เข้าร่วมกิจกรรม\",\n  },\n  { key: \"/teacher/event\", icon: <Calendar size={20} />, label: \"กิจกรรม\" },\n  { key: \"/teacher/report\", icon: <FileText size={20} />, label: \"รายงาน\" },\n];\n\nconst managementRoles = [\"FACULTY_ADMIN\", \"SUPER_ADMIN\"];\n\nconst getAdminMenuItems = (role) => {\n  const items = [\n    { key: \"/admin/home\", icon: <Home size={20} />, label: \"หน้าหลัก\" },\n    {\n      key: \"/admin/participation\",\n      icon: <CalendarCheck size={20} />,\n      label: \"เข้าร่วมกิจกรรม\",\n    },\n    { key: \"/admin/event\", icon: <Calendar size={20} />, label: \"กิจกรรม\" },\n    { key: \"/admin/report\", icon: <FileText size={20} />, label: \"รายงาน\" },\n  ];\n\n  if (managementRoles.includes(role)) {\n    items.splice(\n      3,\n      0,\n      { key: \"/admin/user\", icon: <Users size={20} />, label: \"บุคลากร\" },\n      {\n        key: \"/admin/department\",\n        icon: <Building2 size={20} />,\n        label: \"ภาควิชา\",\n      },\n      {\n        key: \"/admin/activity-type\",\n        icon: <Tags size={20} />,\n        label: \"ประเภทกิจกรรม\",\n      },\n    );\n  }\n\n  return items;\n};\n\nconst normalizeUserType = (userRole) => {\n  if (userRole === \"student\" || userRole === \"STUDENT\") return \"student\";\n  if (userRole === \"teacher\" || userRole === \"TEACHER\") return \"teacher\";\n  return \"admin\";\n};\n\nconst Sidebar = ({ userRole = \"student\", collapsed = false, onCollapse }) => {\n  const pathname = usePathname();\n  const router = useRouter();\n  const userType = normalizeUserType(userRole);\n\n  const getMenuItems = () => {\n    if (userType === \"student\") return studentMenuItems;\n    if (userType === \"teacher\") return teacherMenuItems;\n    return getAdminMenuItems(userRole);\n  };\n\n  const handleMenuClick = ({ key }) => {\n    router.push(key);\n  };\n\n  return (\n    <Sider\n      collapsible\n      collapsed={collapsed}\n      onCollapse={onCollapse}\n      theme=\"light\"\n      width={250}\n      style={{\n        overflow: \"auto\",\n        height: \"100vh\",\n        position: \"fixed\",\n        left: 0,\n        top: 0,\n        bottom: 0,\n        background: \"#ffffff\",\n        boxShadow: \"2px 0 8px rgba(0,0,0,0.08)\",\n        borderRight: \"1px solid #f0f0f0\",\n      }}\n    >\n      <div\n        style={{\n          height: 120,\n          margin: 16,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <Image\n          src=\"/Logo.png\"\n          alt=\"TAS Logo\"\n          width={collapsed ? 60 : 120}\n          height={collapsed ? 60 : 120}\n          priority\n          className=\"object-contain\"\n        />\n      </div>\n      <Menu\n        mode=\"inline\"\n        selectedKeys={[pathname]}\n        items={getMenuItems()}\n        onClick={handleMenuClick}\n        style={{\n          borderRight: 0,\n          background: \"transparent\",\n          color: \"#0A894C\",\n        }}\n        theme=\"light\"\n        className=\"custom-sidebar-menu\"\n      />\n      <style jsx global>{`\n        .custom-sidebar-menu .ant-menu-item {\n          color: #0a894c !important;\n          margin: 4px 8px !important;\n          border-radius: 8px !important;\n          transition: all 0.3s ease !important;\n        }\n\n        .custom-sidebar-menu .ant-menu-item:hover {\n          background: rgba(10, 137, 76, 0.08) !important;\n          color: #0a894c !important;\n        }\n\n        .custom-sidebar-menu .ant-menu-item-selected {\n          background: rgba(10, 137, 76, 0.12) !important;\n          color: #0a894c !important;\n          font-weight: 600 !important;\n          box-shadow: 0 2px 8px rgba(10, 137, 76, 0.15) !important;\n        }\n\n        .custom-sidebar-menu .ant-menu-item-selected::after {\n          display: none !important;\n        }\n\n        .ant-layout-sider-trigger {\n          background: #f8f9fa !important;\n          color: #0a894c !important;\n          border-top: 1px solid #e8e8e8 !important;\n        }\n\n        .ant-layout-sider-trigger:hover {\n          background: rgba(10, 137, 76, 0.08) !important;\n        }\n      `}</style>\n    </Sider>\n  );\n};\n\nexport default Sidebar;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///home/siripoom/tas/tas-front/src/utils/sessionUser.js"],"sourcesContent":["const safeParse = (value) => {\n  try {\n    return JSON.parse(value);\n  } catch (_error) {\n    return null;\n  }\n};\n\nexport const getSessionUser = () => {\n  if (typeof window === \"undefined\") return null;\n\n  const raw = localStorage.getItem(\"user\");\n  if (!raw) return null;\n\n  const user = safeParse(raw);\n  if (!user || typeof user !== \"object\") return null;\n\n  const role = user.role || null;\n  const faculty = user.faculty || null;\n  const department = user.department || null;\n\n  const facultyId = user.facultyId || faculty?.id || null;\n  const departmentId = user.departmentId || department?.id || null;\n\n  return {\n    ...user,\n    role,\n    faculty,\n    department,\n    facultyId,\n    departmentId,\n    facultyName: faculty?.name || user.facultyName || \"\",\n    departmentName: department?.name || user.departmentName || \"\",\n  };\n};\n\nexport const getUserScope = () => {\n  const user = getSessionUser();\n  if (!user) return null;\n\n  return {\n    id: user.id || null,\n    role: user.role || null,\n    facultyId: user.facultyId || null,\n    departmentId: user.departmentId || null,\n    facultyName: user.facultyName || \"\",\n    departmentName: user.departmentName || \"\",\n  };\n};\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,YAAY,CAAC;IACjB,IAAI;QACF,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAO,QAAQ;QACf,OAAO;IACT;AACF;AAEO,MAAM,iBAAiB;IAC5B;;IAEA,MAAM,MAAM,aAAa,OAAO,CAAC;IACjC,IAAI,CAAC,KAAK,OAAO;IAEjB,MAAM,OAAO,UAAU;IACvB,IAAI,CAAC,QAAQ,OAAO,SAAS,UAAU,OAAO;IAE9C,MAAM,OAAO,KAAK,IAAI,IAAI;IAC1B,MAAM,UAAU,KAAK,OAAO,IAAI;IAChC,MAAM,aAAa,KAAK,UAAU,IAAI;IAEtC,MAAM,YAAY,KAAK,SAAS,IAAI,SAAS,MAAM;IACnD,MAAM,eAAe,KAAK,YAAY,IAAI,YAAY,MAAM;IAE5D,OAAO;QACL,GAAG,IAAI;QACP;QACA;QACA;QACA;QACA;QACA,aAAa,SAAS,QAAQ,KAAK,WAAW,IAAI;QAClD,gBAAgB,YAAY,QAAQ,KAAK,cAAc,IAAI;IAC7D;AACF;AAEO,MAAM,eAAe;IAC1B,MAAM,OAAO;IACb,IAAI,CAAC,MAAM,OAAO;IAElB,OAAO;QACL,IAAI,KAAK,EAAE,IAAI;QACf,MAAM,KAAK,IAAI,IAAI;QACnB,WAAW,KAAK,SAAS,IAAI;QAC7B,cAAc,KAAK,YAAY,IAAI;QACnC,aAAa,KAAK,WAAW,IAAI;QACjC,gBAAgB,KAAK,cAAc,IAAI;IACzC;AACF"}},
    {"offset": {"line": 350, "column": 0}, "map": {"version":3,"sources":["file:///home/siripoom/tas/tas-front/src/components/asset/TeacherHeader.js"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter, usePathname } from \"next/navigation\";\nimport { Avatar, Dropdown, Breadcrumb } from \"antd\";\nimport { LogOut, User, Home } from \"lucide-react\";\nimport { getSessionUser } from \"@/utils/sessionUser\";\n\nconst ROLE_LABEL = {\n  TEACHER: \"อาจารย์\",\n  DEPT_STAFF: \"เจ้าหน้าที่ภาควิชา\",\n};\n\nconst TeacherHeader = () => {\n  const router = useRouter();\n  const pathname = usePathname();\n  const [userInfo, setUserInfo] = useState(null);\n\n  useEffect(() => {\n    setUserInfo(getSessionUser());\n  }, []);\n\n  const getPageTitle = () => {\n    const pageMap = {\n      \"/teacher/home\": \"หน้าหลัก\",\n      \"/teacher/participation\": \"เข้าร่วมกิจกรรม\",\n      \"/teacher/event\": \"กิจกรรม\",\n      \"/teacher/report\": \"รายงาน\",\n      \"/teacher/profile\": \"โปรไฟล์\",\n      \"/teacher/settings\": \"ตั้งค่า\",\n    };\n    return pageMap[pathname] || \"Dashboard\";\n  };\n\n  const getBreadcrumbItems = () => {\n    const pathArray = pathname.split(\"/\").filter((item) => item);\n    const items = [\n      {\n        title: (\n          <span className=\"flex items-center gap-1\">\n            <Home size={14} />\n            Teacher\n          </span>\n        ),\n      },\n    ];\n\n    if (pathArray.length > 1) {\n      const pageMap = {\n        home: \"หน้าหลัก\",\n        participation: \"เข้าร่วมกิจกรรม\",\n        event: \"กิจกรรม\",\n        report: \"รายงาน\",\n        profile: \"โปรไฟล์\",\n        settings: \"ตั้งค่า\",\n      };\n\n      items.push({\n        title: pageMap[pathArray[1]] || pathArray[1],\n      });\n    }\n\n    return items;\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"refreshToken\");\n    router.push(\"/login\");\n  };\n\n  const menuItems = [\n    {\n      key: \"profile\",\n      icon: <User size={16} />,\n      label: \"โปรไฟล์\",\n      onClick: () => router.push(\"/teacher/profile\"),\n    },\n    {\n      type: \"divider\",\n    },\n    {\n      key: \"logout\",\n      icon: <LogOut size={16} />,\n      label: \"ออกจากระบบ\",\n      danger: true,\n      onClick: handleLogout,\n    },\n  ];\n\n  return (\n    <header className=\"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40 w-full\">\n      <div className=\"px-6 py-3\">\n        <div className=\"flex items-center justify-between\">\n          {/* Page Title and Breadcrumb */}\n          <div className=\"flex items-center gap-3\">\n            <div>\n              <h1 className=\"text-lg font-semibold text-gray-800\">\n                {getPageTitle()}\n              </h1>\n              <Breadcrumb\n                items={getBreadcrumbItems()}\n                separator=\"/\"\n                className=\"text-xs\"\n              />\n            </div>\n          </div>\n\n          {/* User Profile */}\n          {userInfo && (\n            <Dropdown\n              menu={{ items: menuItems }}\n              placement=\"bottomRight\"\n              trigger={[\"click\"]}\n            >\n              <div className=\"flex items-center gap-3 cursor-pointer hover:bg-gray-50 px-3 py-2 rounded-lg transition-colors\">\n                <div className=\"text-right\">\n                  <p className=\"text-sm font-medium text-gray-800\">\n                    {userInfo.fullname || userInfo.name || \"ครู\"}\n                  </p>\n                  <p className=\"text-xs text-gray-500\">\n                    {ROLE_LABEL[userInfo.role] || \"ครู\"}\n                    {userInfo.departmentName ? ` • ${userInfo.departmentName}` : \"\"}\n                  </p>\n                </div>\n                <Avatar\n                  size={40}\n                  style={{\n                    backgroundColor: \"#0A894C\",\n                    color: \"#fff\",\n                  }}\n                >\n                  {(userInfo.fullname || userInfo.name || \"T\").charAt(0)}\n                </Avatar>\n              </div>\n            </Dropdown>\n          )}\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default TeacherHeader;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;;;AANA;;;;;;AAQA,MAAM,aAAa;IACjB,SAAS;IACT,YAAY;AACd;AAEA,MAAM,gBAAgB;;IACpB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,WAAW,IAAA,oJAAW;IAC5B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,IAAA,0KAAS;mCAAC;YACR,YAAY,IAAA,gJAAc;QAC5B;kCAAG,EAAE;IAEL,MAAM,eAAe;QACnB,MAAM,UAAU;YACd,iBAAiB;YACjB,0BAA0B;YAC1B,kBAAkB;YAClB,mBAAmB;YACnB,oBAAoB;YACpB,qBAAqB;QACvB;QACA,OAAO,OAAO,CAAC,SAAS,IAAI;IAC9B;IAEA,MAAM,qBAAqB;QACzB,MAAM,YAAY,SAAS,KAAK,CAAC,KAAK,MAAM,CAAC,CAAC,OAAS;QACvD,MAAM,QAAQ;YACZ;gBACE,qBACE,6LAAC;oBAAK,WAAU;;sCACd,6LAAC,8MAAI;4BAAC,MAAM;;;;;;wBAAM;;;;;;;YAIxB;SACD;QAED,IAAI,UAAU,MAAM,GAAG,GAAG;YACxB,MAAM,UAAU;gBACd,MAAM;gBACN,eAAe;gBACf,OAAO;gBACP,QAAQ;gBACR,SAAS;gBACT,UAAU;YACZ;YAEA,MAAM,IAAI,CAAC;gBACT,OAAO,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,SAAS,CAAC,EAAE;YAC9C;QACF;QAEA,OAAO;IACT;IAEA,MAAM,eAAe;QACnB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,YAAY;QAChB;YACE,KAAK;YACL,oBAAM,6LAAC,6MAAI;gBAAC,MAAM;;;;;;YAClB,OAAO;YACP,SAAS,IAAM,OAAO,IAAI,CAAC;QAC7B;QACA;YACE,MAAM;QACR;QACA;YACE,KAAK;YACL,oBAAM,6LAAC,uNAAM;gBAAC,MAAM;;;;;;YACpB,OAAO;YACP,QAAQ;YACR,SAAS;QACX;KACD;IAED,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CACX;;;;;;8CAEH,6LAAC,2MAAU;oCACT,OAAO;oCACP,WAAU;oCACV,WAAU;;;;;;;;;;;;;;;;;oBAMf,0BACC,6LAAC,qMAAQ;wBACP,MAAM;4BAAE,OAAO;wBAAU;wBACzB,WAAU;wBACV,SAAS;4BAAC;yBAAQ;kCAElB,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAE,WAAU;sDACV,SAAS,QAAQ,IAAI,SAAS,IAAI,IAAI;;;;;;sDAEzC,6LAAC;4CAAE,WAAU;;gDACV,UAAU,CAAC,SAAS,IAAI,CAAC,IAAI;gDAC7B,SAAS,cAAc,GAAG,CAAC,GAAG,EAAE,SAAS,cAAc,EAAE,GAAG;;;;;;;;;;;;;8CAGjE,6LAAC,+LAAM;oCACL,MAAM;oCACN,OAAO;wCACL,iBAAiB;wCACjB,OAAO;oCACT;8CAEC,CAAC,SAAS,QAAQ,IAAI,SAAS,IAAI,IAAI,GAAG,EAAE,MAAM,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAStE;GAjIM;;QACW,kJAAS;QACP,oJAAW;;;KAFxB;uCAmIS"}},
    {"offset": {"line": 606, "column": 0}, "map": {"version":3,"sources":["file:///home/siripoom/tas/tas-front/src/app/teacher/layout.js"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { Layout } from \"antd\";\nimport Sidebar from \"@/components/asset/Sidebar\";\nimport TeacherHeader from \"@/components/asset/TeacherHeader\";\nimport { getSessionUser } from \"@/utils/sessionUser\";\nimport \"../globals.css\";\n\nconst { Content } = Layout;\n\nexport default function TeacherLayout({ children }) {\n  const router = useRouter();\n  const [collapsed, setCollapsed] = useState(false);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const checkAuth = () => {\n      const token = localStorage.getItem(\"token\");\n      const userData = getSessionUser();\n\n      if (!userData || !token) {\n        router.push(\"/login\");\n        setIsLoading(false);\n        return;\n      }\n\n      if (![\"TEACHER\", \"DEPT_STAFF\"].includes(userData.role)) {\n        alert(\"คุณไม่มีสิทธิ์เข้าถึงหน้านี้\");\n        router.push(\"/login\");\n        setIsLoading(false);\n        return;\n      }\n\n      setIsAuthenticated(true);\n      setIsLoading(false);\n    };\n\n    checkAuth();\n  }, [router]);\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-50\">\n        <div className=\"text-center\">\n          <div className=\"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#0A894C]\"></div>\n          <p className=\"mt-4 text-gray-600\">กำลังตรวจสอบสิทธิ์...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return null;\n  }\n\n  return (\n    <Layout style={{ minHeight: \"100vh\" }}>\n      <Sidebar\n        userRole=\"teacher\"\n        collapsed={collapsed}\n        onCollapse={setCollapsed}\n      />\n      <Layout\n        style={{\n          marginLeft: collapsed ? 80 : 250,\n          transition: \"margin-left 0.2s\",\n        }}\n      >\n        <TeacherHeader />\n        <Content\n          style={{\n            margin: \"24px 16px\",\n            padding: 24,\n            minHeight: \"calc(100vh - 112px)\",\n            background: \"#f5f5f5\",\n          }}\n        >\n          {children}\n        </Content>\n      </Layout>\n    </Layout>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;;AAUA,MAAM,EAAE,OAAO,EAAE,GAAG,+LAAM;AAEX,SAAS,cAAc,EAAE,QAAQ,EAAE;;IAChD,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IACvD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,IAAA,0KAAS;mCAAC;YACR,MAAM;qDAAY;oBAChB,MAAM,QAAQ,aAAa,OAAO,CAAC;oBACnC,MAAM,WAAW,IAAA,gJAAc;oBAE/B,IAAI,CAAC,YAAY,CAAC,OAAO;wBACvB,OAAO,IAAI,CAAC;wBACZ,aAAa;wBACb;oBACF;oBAEA,IAAI,CAAC;wBAAC;wBAAW;qBAAa,CAAC,QAAQ,CAAC,SAAS,IAAI,GAAG;wBACtD,MAAM;wBACN,OAAO,IAAI,CAAC;wBACZ,aAAa;wBACb;oBACF;oBAEA,mBAAmB;oBACnB,aAAa;gBACf;;YAEA;QACF;kCAAG;QAAC;KAAO;IAEX,IAAI,WAAW;QACb,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAE,WAAU;kCAAqB;;;;;;;;;;;;;;;;;IAI1C;IAEA,IAAI,CAAC,iBAAiB;QACpB,OAAO;IACT;IAEA,qBACE,6LAAC,+LAAM;QAAC,OAAO;YAAE,WAAW;QAAQ;;0BAClC,6LAAC,mJAAO;gBACN,UAAS;gBACT,WAAW;gBACX,YAAY;;;;;;0BAEd,6LAAC,+LAAM;gBACL,OAAO;oBACL,YAAY,YAAY,KAAK;oBAC7B,YAAY;gBACd;;kCAEA,6LAAC,yJAAa;;;;;kCACd,6LAAC;wBACC,OAAO;4BACL,QAAQ;4BACR,SAAS;4BACT,WAAW;4BACX,YAAY;wBACd;kCAEC;;;;;;;;;;;;;;;;;;AAKX;GAzEwB;;QACP,kJAAS;;;KADF"}}]
}