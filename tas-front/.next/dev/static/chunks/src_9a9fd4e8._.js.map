{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/siripoom/tas-front/src/components/participation/SearchFilterBar.js"],"sourcesContent":["\"use client\";\n\nimport { Input, Select, Row, Col, Button } from \"antd\";\nimport { Search, RotateCcw } from \"lucide-react\";\n\nconst { Option } = Select;\n\nconst SearchFilterBar = ({ onSearch, onFilterChange, onReset }) => {\n  const departments = [\n    \"คอมพิวเตอร์ศึกษา\",\n    \"ครุศาสตร์โยธา\",\n    \"ครุศาสตร์ไฟฟ้า\",\n    \"ครุศาสตร์เครื่องกล\",\n    \"ครุศาสตร์เทคโนโลยีและสารสนเทศ\",\n    \"บริหารเทคนิคศึกษา\",\n  ];\n\n  const majors = [\"TCT\", \"CED\"];\n\n  const years = [\"1\", \"2\", \"3\", \"4\"];\n\n  return (\n    <div\n      className=\"p-4 rounded-lg mb-4\"\n      style={{\n        background: \"#ffffff\",\n        border: \"1px solid #e8f5e9\",\n        boxShadow: \"0 2px 8px rgba(10, 137, 76, 0.08)\",\n      }}\n    >\n      <Row gutter={[16, 16]}>\n        {/* Search Input */}\n        <Col xs={24} md={8}>\n          <Input\n            placeholder=\"Search by student ID, name, or activity name\"\n            prefix={<Search size={16} style={{ color: \"#0A894C\" }} />}\n            onChange={(e) => onSearch(e.target.value)}\n            size=\"large\"\n            style={{\n              borderColor: \"#0A894C\",\n            }}\n          />\n        </Col>\n\n        {/* Department Filter */}\n        <Col xs={24} md={5}>\n          <Select\n            placeholder=\"เลือกภาควิชา\"\n            onChange={(value) => onFilterChange(\"department\", value)}\n            allowClear\n            size=\"large\"\n            style={{ width: \"100%\" }}\n          >\n            {departments.map((dept) => (\n              <Option key={dept} value={dept}>\n                {dept}\n              </Option>\n            ))}\n          </Select>\n        </Col>\n\n        {/* Major Filter */}\n        <Col xs={24} md={4}>\n          <Select\n            placeholder=\"เลือกสาขาวิชา\"\n            onChange={(value) => onFilterChange(\"major\", value)}\n            allowClear\n            size=\"large\"\n            style={{ width: \"100%\" }}\n          >\n            {majors.map((major) => (\n              <Option key={major} value={major}>\n                {major}\n              </Option>\n            ))}\n          </Select>\n        </Col>\n\n        {/* Year Filter */}\n        <Col xs={24} md={4}>\n          <Select\n            placeholder=\"เลือกชั้นปี\"\n            onChange={(value) => onFilterChange(\"year\", value)}\n            allowClear\n            size=\"large\"\n            style={{ width: \"100%\" }}\n          >\n            {years.map((year) => (\n              <Option key={year} value={year}>\n                ปี {year}\n              </Option>\n            ))}\n          </Select>\n        </Col>\n\n        {/* Reset Button */}\n        <Col xs={24} md={3}>\n          <Button\n            icon={<RotateCcw size={16} />}\n            onClick={onReset}\n            size=\"large\"\n            style={{\n              width: \"100%\",\n              backgroundColor: \"#0A894C\",\n              borderColor: \"#0A894C\",\n              color: \"#ffffff\",\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.backgroundColor = \"#086b3d\";\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.backgroundColor = \"#0A894C\";\n            }}\n          >\n            รีเซ็ต\n          </Button>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nexport default SearchFilterBar;\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAHA;;;;AAKA,MAAM,EAAE,MAAM,EAAE,GAAG,+LAAM;AAEzB,MAAM,kBAAkB,CAAC,EAAE,QAAQ,EAAE,cAAc,EAAE,OAAO,EAAE;IAC5D,MAAM,cAAc;QAClB;QACA;QACA;QACA;QACA;QACA;KACD;IAED,MAAM,SAAS;QAAC;QAAO;KAAM;IAE7B,MAAM,QAAQ;QAAC;QAAK;QAAK;QAAK;KAAI;IAElC,qBACE,6LAAC;QACC,WAAU;QACV,OAAO;YACL,YAAY;YACZ,QAAQ;YACR,WAAW;QACb;kBAEA,cAAA,6LAAC,sLAAG;YAAC,QAAQ;gBAAC;gBAAI;aAAG;;8BAEnB,6LAAC,sLAAG;oBAAC,IAAI;oBAAI,IAAI;8BACf,cAAA,6LAAC,4LAAK;wBACJ,aAAY;wBACZ,sBAAQ,6LAAC,mNAAM;4BAAC,MAAM;4BAAI,OAAO;gCAAE,OAAO;4BAAU;;;;;;wBACpD,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,MAAK;wBACL,OAAO;4BACL,aAAa;wBACf;;;;;;;;;;;8BAKJ,6LAAC,sLAAG;oBAAC,IAAI;oBAAI,IAAI;8BACf,cAAA,6LAAC,+LAAM;wBACL,aAAY;wBACZ,UAAU,CAAC,QAAU,eAAe,cAAc;wBAClD,UAAU;wBACV,MAAK;wBACL,OAAO;4BAAE,OAAO;wBAAO;kCAEtB,YAAY,GAAG,CAAC,CAAC,qBAChB,6LAAC;gCAAkB,OAAO;0CACvB;+BADU;;;;;;;;;;;;;;;8BAQnB,6LAAC,sLAAG;oBAAC,IAAI;oBAAI,IAAI;8BACf,cAAA,6LAAC,+LAAM;wBACL,aAAY;wBACZ,UAAU,CAAC,QAAU,eAAe,SAAS;wBAC7C,UAAU;wBACV,MAAK;wBACL,OAAO;4BAAE,OAAO;wBAAO;kCAEtB,OAAO,GAAG,CAAC,CAAC,sBACX,6LAAC;gCAAmB,OAAO;0CACxB;+BADU;;;;;;;;;;;;;;;8BAQnB,6LAAC,sLAAG;oBAAC,IAAI;oBAAI,IAAI;8BACf,cAAA,6LAAC,+LAAM;wBACL,aAAY;wBACZ,UAAU,CAAC,QAAU,eAAe,QAAQ;wBAC5C,UAAU;wBACV,MAAK;wBACL,OAAO;4BAAE,OAAO;wBAAO;kCAEtB,MAAM,GAAG,CAAC,CAAC,qBACV,6LAAC;gCAAkB,OAAO;;oCAAM;oCAC1B;;+BADO;;;;;;;;;;;;;;;8BAQnB,6LAAC,sLAAG;oBAAC,IAAI;oBAAI,IAAI;8BACf,cAAA,6LAAC,+MAAM;wBACL,oBAAM,6LAAC,gOAAS;4BAAC,MAAM;;;;;;wBACvB,SAAS;wBACT,MAAK;wBACL,OAAO;4BACL,OAAO;4BACP,iBAAiB;4BACjB,aAAa;4BACb,OAAO;wBACT;wBACA,cAAc,CAAC;4BACb,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG;wBAC1C;wBACA,cAAc,CAAC;4BACb,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG;wBAC1C;kCACD;;;;;;;;;;;;;;;;;;;;;;AAOX;KAjHM;uCAmHS"}},
    {"offset": {"line": 232, "column": 0}, "map": {"version":3,"sources":["file:///home/siripoom/tas-front/src/components/participation/ParticipationTable.js"],"sourcesContent":["\"use client\";\n\nimport { Table, Button, Tag } from \"antd\";\nimport { Eye } from \"lucide-react\";\n\nconst ParticipationTable = ({\n  data,\n  onView,\n  showParticipationCount = false,\n  showEvidenceCount = false\n}) => {\n  const columns = [\n    {\n      title: \"ลำดับ\",\n      dataIndex: \"index\",\n      key: \"index\",\n      width: 80,\n      align: \"center\",\n      render: (text, record, index) => index + 1,\n    },\n    {\n      title: \"กิจกรรม\",\n      key: \"activityName\",\n      ellipsis: true,\n      render: (_, record) => record.name || record.activityName,\n    },\n    {\n      title: \"ภาควิชา\",\n      key: \"department\",\n      width: 180,\n      render: (_, record) => record.department?.name || record.department || \"-\",\n    },\n    {\n      title: \"สาขาวิชา\",\n      key: \"major\",\n      width: 150,\n      align: \"center\",\n      render: (_, record) => {\n        // Handle API data with majorJoins\n        if (record.majorJoins && record.majorJoins.length > 0) {\n          return (\n            <div className=\"flex flex-wrap gap-1 justify-center\">\n              {record.majorJoins.map((mj, idx) => (\n                <Tag\n                  key={idx}\n                  color=\"#0A894C\"\n                  style={{\n                    borderRadius: 8,\n                    fontWeight: 500,\n                  }}\n                >\n                  {mj.major?.name}\n                </Tag>\n              ))}\n            </div>\n          );\n        }\n        // Handle mock data\n        if (record.major) {\n          return (\n            <Tag\n              color=\"#0A894C\"\n              style={{\n                borderRadius: 8,\n                fontWeight: 500,\n              }}\n            >\n              {record.major}\n            </Tag>\n          );\n        }\n        return <span className=\"text-gray-400\">ทุกสาขา</span>;\n      },\n    },\n    {\n      title: showParticipationCount ? \"จำนวนผู้เข้าร่วม\" : showEvidenceCount ? \"จำนวนส่งหลักฐาน\" : \"จำนวนนักศึกษา\",\n      key: \"studentCount\",\n      width: 150,\n      align: \"center\",\n      render: (_, record) => {\n        // Determine which count to show\n        let count, max;\n\n        if (showParticipationCount) {\n          count = record.participationCount || 0;\n          max = record.maxPeopleCount || record.maxStudents || 0;\n        } else if (showEvidenceCount) {\n          count = record.evidenceCount || 0;\n          max = record.maxPeopleCount || record.maxStudents || 0;\n        } else {\n          count = record.studentCount || record.peopleCount || 0;\n          max = record.maxStudents || record.maxPeopleCount || 0;\n        }\n\n        const percentage = max > 0 ? (count / max) * 100 : 0;\n        const color =\n          percentage >= 80\n            ? \"#f5222d\"\n            : percentage >= 50\n            ? \"#fa8c16\"\n            : \"#0A894C\";\n\n        return (\n          <span\n            style={{\n              color: color,\n              fontWeight: \"600\",\n              fontSize: \"14px\",\n            }}\n          >\n            {count}/{max}\n          </span>\n        );\n      },\n    },\n    {\n      title: \"การจัดการ\",\n      key: \"action\",\n      width: 120,\n      align: \"center\",\n      render: (_, record) => (\n        <div className=\"flex gap-2 justify-center\">\n          <Button\n            type=\"text\"\n            icon={<Eye size={18} />}\n            onClick={() => onView(record)}\n            style={{ color: \"#0A894C\" }}\n            title=\"ดูรายละเอียด\"\n          />\n        </div>\n      ),\n    },\n  ];\n\n  return (\n    <Table\n      columns={columns}\n      dataSource={data}\n      rowKey=\"id\"\n      pagination={{\n        pageSize: 10,\n        showSizeChanger: true,\n        showTotal: (total) => `ทั้งหมด ${total} รายการ`,\n      }}\n      scroll={{ x: 800 }}\n      style={{\n        backgroundColor: \"#ffffff\",\n        borderRadius: 8,\n      }}\n    />\n  );\n};\n\nexport default ParticipationTable;\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AACA;AAHA;;;;AAKA,MAAM,qBAAqB,CAAC,EAC1B,IAAI,EACJ,MAAM,EACN,yBAAyB,KAAK,EAC9B,oBAAoB,KAAK,EAC1B;IACC,MAAM,UAAU;QACd;YACE,OAAO;YACP,WAAW;YACX,KAAK;YACL,OAAO;YACP,OAAO;YACP,QAAQ,CAAC,MAAM,QAAQ,QAAU,QAAQ;QAC3C;QACA;YACE,OAAO;YACP,KAAK;YACL,UAAU;YACV,QAAQ,CAAC,GAAG,SAAW,OAAO,IAAI,IAAI,OAAO,YAAY;QAC3D;QACA;YACE,OAAO;YACP,KAAK;YACL,OAAO;YACP,QAAQ,CAAC,GAAG,SAAW,OAAO,UAAU,EAAE,QAAQ,OAAO,UAAU,IAAI;QACzE;QACA;YACE,OAAO;YACP,KAAK;YACL,OAAO;YACP,OAAO;YACP,QAAQ,CAAC,GAAG;gBACV,kCAAkC;gBAClC,IAAI,OAAO,UAAU,IAAI,OAAO,UAAU,CAAC,MAAM,GAAG,GAAG;oBACrD,qBACE,6LAAC;wBAAI,WAAU;kCACZ,OAAO,UAAU,CAAC,GAAG,CAAC,CAAC,IAAI,oBAC1B,6LAAC,sLAAG;gCAEF,OAAM;gCACN,OAAO;oCACL,cAAc;oCACd,YAAY;gCACd;0CAEC,GAAG,KAAK,EAAE;+BAPN;;;;;;;;;;gBAYf;gBACA,mBAAmB;gBACnB,IAAI,OAAO,KAAK,EAAE;oBAChB,qBACE,6LAAC,sLAAG;wBACF,OAAM;wBACN,OAAO;4BACL,cAAc;4BACd,YAAY;wBACd;kCAEC,OAAO,KAAK;;;;;;gBAGnB;gBACA,qBAAO,6LAAC;oBAAK,WAAU;8BAAgB;;;;;;YACzC;QACF;QACA;YACE,OAAO,yBAAyB,qBAAqB,oBAAoB,oBAAoB;YAC7F,KAAK;YACL,OAAO;YACP,OAAO;YACP,QAAQ,CAAC,GAAG;gBACV,gCAAgC;gBAChC,IAAI,OAAO;gBAEX,IAAI,wBAAwB;oBAC1B,QAAQ,OAAO,kBAAkB,IAAI;oBACrC,MAAM,OAAO,cAAc,IAAI,OAAO,WAAW,IAAI;gBACvD,OAAO,IAAI,mBAAmB;oBAC5B,QAAQ,OAAO,aAAa,IAAI;oBAChC,MAAM,OAAO,cAAc,IAAI,OAAO,WAAW,IAAI;gBACvD,OAAO;oBACL,QAAQ,OAAO,YAAY,IAAI,OAAO,WAAW,IAAI;oBACrD,MAAM,OAAO,WAAW,IAAI,OAAO,cAAc,IAAI;gBACvD;gBAEA,MAAM,aAAa,MAAM,IAAI,AAAC,QAAQ,MAAO,MAAM;gBACnD,MAAM,QACJ,cAAc,KACV,YACA,cAAc,KACd,YACA;gBAEN,qBACE,6LAAC;oBACC,OAAO;wBACL,OAAO;wBACP,YAAY;wBACZ,UAAU;oBACZ;;wBAEC;wBAAM;wBAAE;;;;;;;YAGf;QACF;QACA;YACE,OAAO;YACP,KAAK;YACL,OAAO;YACP,OAAO;YACP,QAAQ,CAAC,GAAG,uBACV,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,+MAAM;wBACL,MAAK;wBACL,oBAAM,6LAAC,0MAAG;4BAAC,MAAM;;;;;;wBACjB,SAAS,IAAM,OAAO;wBACtB,OAAO;4BAAE,OAAO;wBAAU;wBAC1B,OAAM;;;;;;;;;;;QAId;KACD;IAED,qBACE,6LAAC,4LAAK;QACJ,SAAS;QACT,YAAY;QACZ,QAAO;QACP,YAAY;YACV,UAAU;YACV,iBAAiB;YACjB,WAAW,CAAC,QAAU,CAAC,QAAQ,EAAE,MAAM,OAAO,CAAC;QACjD;QACA,QAAQ;YAAE,GAAG;QAAI;QACjB,OAAO;YACL,iBAAiB;YACjB,cAAc;QAChB;;;;;;AAGN;KAlJM;uCAoJS"}},
    {"offset": {"line": 424, "column": 0}, "map": {"version":3,"sources":["file:///home/siripoom/tas-front/src/components/participation/StudentListModal.js"],"sourcesContent":["\"use client\";\n\nimport { Modal, Tabs, Table, Button, Tag, Avatar, Input } from \"antd\";\nimport { CheckCircle, XCircle, Clock, User } from \"lucide-react\";\nimport { useState } from \"react\";\n\nconst { TextArea } = Input;\n\nconst StudentListModal = ({ visible, onClose, activity, onApprove, onReject }) => {\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n  const [rejectModalVisible, setRejectModalVisible] = useState(false);\n  const [rejectReason, setRejectReason] = useState(\"\");\n  const [studentsToReject, setStudentsToReject] = useState([]);\n\n  // Process attendances data from activity\n  const getStudentsFromAttendances = () => {\n    if (!activity?.attendances) {\n      return { approved: [], pending: [], rejected: [] };\n    }\n\n    const approved = [];\n    const pending = [];\n    const rejected = [];\n\n    activity.attendances.forEach((attendance) => {\n      const student = {\n        ...attendance,\n        studentId: attendance.user?.studentId || \"-\",\n        name: attendance.user?.fullname || \"Unknown\",\n        department: attendance.user?.department?.name || \"-\",\n        major: attendance.user?.major?.name || \"-\",\n        year: attendance.user?.level || \"-\",\n      };\n\n      if (attendance.status === \"accepted\") {\n        approved.push(student);\n      } else if ([\"joined\", \"Inprogress\"].includes(attendance.status)) {\n        pending.push(student);\n      } else if (attendance.status === \"rejected\") {\n        rejected.push(student);\n      }\n    });\n\n    return { approved, pending, rejected };\n  };\n\n  const students = getStudentsFromAttendances();\n\n  const handleBulkApprove = () => {\n    const selectedStudents = students.pending.filter((student) =>\n      selectedRowKeys.includes(student.id)\n    );\n    selectedStudents.forEach((student) => onApprove(student));\n    setSelectedRowKeys([]);\n  };\n\n  const handleRejectClick = (student = null) => {\n    if (student) {\n      setStudentsToReject([student]);\n    } else {\n      const selectedStudents = students.pending.filter((student) =>\n        selectedRowKeys.includes(student.id)\n      );\n      setStudentsToReject(selectedStudents);\n    }\n    setRejectModalVisible(true);\n  };\n\n  const handleConfirmReject = () => {\n    if (!rejectReason.trim()) {\n      alert(\"กรุณาระบุเหตุผลในการไม่อนุมัติ\");\n      return;\n    }\n    studentsToReject.forEach((student) => {\n      onReject({ ...student, rejectReason });\n    });\n    setRejectModalVisible(false);\n    setRejectReason(\"\");\n    setStudentsToReject([]);\n    setSelectedRowKeys([]);\n  };\n\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: (selectedKeys) => {\n      setSelectedRowKeys(selectedKeys);\n    },\n  };\n\n  const columns = [\n    {\n      title: \"ลำดับ\",\n      dataIndex: \"index\",\n      key: \"index\",\n      width: 70,\n      align: \"center\",\n      render: (text, record, index) => index + 1,\n    },\n    {\n      title: \"นักศึกษา\",\n      dataIndex: \"name\",\n      key: \"name\",\n      render: (name, record) => (\n        <div className=\"flex items-center gap-2\">\n          <Avatar\n            size={32}\n            style={{ backgroundColor: \"#0A894C\" }}\n            icon={<User size={18} />}\n          />\n          <div>\n            <div className=\"font-medium\">{name}</div>\n            <div className=\"text-xs text-gray-500\">{record.studentId}</div>\n          </div>\n        </div>\n      ),\n    },\n    {\n      title: \"ภาควิชา\",\n      dataIndex: \"department\",\n      key: \"department\",\n      width: 180,\n    },\n    {\n      title: \"สาขา\",\n      dataIndex: \"major\",\n      key: \"major\",\n      width: 100,\n      align: \"center\",\n      render: (major) => (\n        <Tag color=\"#0A894C\" style={{ borderRadius: 8 }}>\n          {major}\n        </Tag>\n      ),\n    },\n    {\n      title: \"ชั้นปี\",\n      dataIndex: \"year\",\n      key: \"year\",\n      width: 80,\n      align: \"center\",\n      render: (year) => `ปี ${year}`,\n    },\n  ];\n\n  const approvedColumns = [...columns];\n\n  const pendingColumns = [\n    ...columns,\n    {\n      title: \"การจัดการ\",\n      key: \"action\",\n      width: 120,\n      align: \"center\",\n      render: (_, record) => (\n        <div className=\"flex gap-2 justify-center\">\n          <Button\n            size=\"small\"\n            danger\n            icon={<XCircle size={16} />}\n            onClick={() => handleRejectClick(record)}\n          >\n            ไม่อนุมัติ\n          </Button>\n        </div>\n      ),\n    },\n  ];\n\n  const rejectedColumns = [...columns];\n\n  const tabItems = [\n    {\n      key: \"approved\",\n      label: (\n        <span className=\"flex items-center gap-2\">\n          <CheckCircle size={16} />\n          อนุมัติแล้ว ({students.approved.length})\n        </span>\n      ),\n      children: (\n        <Table\n          columns={approvedColumns}\n          dataSource={students.approved}\n          rowKey=\"id\"\n          pagination={{ pageSize: 5 }}\n          scroll={{ x: 600 }}\n        />\n      ),\n    },\n    {\n      key: \"pending\",\n      label: (\n        <span className=\"flex items-center gap-2\">\n          <Clock size={16} />\n          รออนุมัติ ({students.pending.length})\n        </span>\n      ),\n      children: (\n        <div>\n          {selectedRowKeys.length > 0 && (\n            <div className=\"mb-4 flex gap-2\">\n              <Button\n                type=\"primary\"\n                icon={<CheckCircle size={16} />}\n                onClick={handleBulkApprove}\n                style={{\n                  backgroundColor: \"#0A894C\",\n                  borderColor: \"#0A894C\",\n                }}\n              >\n                อนุมัติที่เลือก ({selectedRowKeys.length})\n              </Button>\n              <Button\n                danger\n                icon={<XCircle size={16} />}\n                onClick={() => handleRejectClick()}\n              >\n                ไม่อนุมัติที่เลือก ({selectedRowKeys.length})\n              </Button>\n            </div>\n          )}\n          <Table\n            columns={pendingColumns}\n            dataSource={students.pending}\n            rowKey=\"id\"\n            rowSelection={rowSelection}\n            pagination={{ pageSize: 5 }}\n            scroll={{ x: 600 }}\n          />\n        </div>\n      ),\n    },\n    {\n      key: \"rejected\",\n      label: (\n        <span className=\"flex items-center gap-2\">\n          <XCircle size={16} />\n          ไม่อนุมัติ ({students.rejected.length})\n        </span>\n      ),\n      children: (\n        <Table\n          columns={rejectedColumns}\n          dataSource={students.rejected}\n          rowKey=\"id\"\n          pagination={{ pageSize: 5 }}\n          scroll={{ x: 600 }}\n        />\n      ),\n    },\n  ];\n\n  return (\n    <Modal\n      title={\n        <div>\n          <h3 className=\"text-lg font-semibold\" style={{ color: \"#0A894C\" }}>\n            รายการนักศึกษา\n          </h3>\n          <p className=\"text-sm text-gray-500 mt-1\">\n            {activity?.name || activity?.activityName || \"กิจกรรม\"}\n          </p>\n        </div>\n      }\n      open={visible}\n      onCancel={onClose}\n      width={900}\n      footer={null}\n      styles={{\n        header: {\n          borderBottom: \"2px solid #0A894C\",\n          paddingBottom: 16,\n        },\n      }}\n    >\n      <Tabs\n        defaultActiveKey=\"approved\"\n        items={tabItems}\n        className=\"custom-tabs\"\n      />\n      <style jsx global>{`\n        .custom-tabs .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn {\n          color: #0A894C !important;\n        }\n        .custom-tabs .ant-tabs-ink-bar {\n          background: #0A894C !important;\n        }\n        .custom-tabs .ant-tabs-tab:hover {\n          color: #0A894C !important;\n        }\n      `}</style>\n\n      {/* Rejection Reason Modal */}\n      <Modal\n        title=\"เหตุผลในการไม่อนุมัติ\"\n        open={rejectModalVisible}\n        onCancel={() => {\n          setRejectModalVisible(false);\n          setRejectReason(\"\");\n          setStudentsToReject([]);\n        }}\n        onOk={handleConfirmReject}\n        okText=\"ยืนยัน\"\n        cancelText=\"ยกเลิก\"\n        okButtonProps={{\n          style: { backgroundColor: \"#f5222d\", borderColor: \"#f5222d\" },\n        }}\n      >\n        <div className=\"mb-4\">\n          <p className=\"text-gray-600 mb-2\">\n            นักศึกษาที่จะไม่อนุมัติ: {studentsToReject.map((s) => s.name).join(\", \")}\n          </p>\n          <TextArea\n            rows={4}\n            placeholder=\"กรุณาระบุเหตุผลในการไม่อนุมัติ...\"\n            value={rejectReason}\n            onChange={(e) => setRejectReason(e.target.value)}\n          />\n        </div>\n      </Modal>\n    </Modal>\n  );\n};\n\nexport default StudentListModal;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 968, "column": 0}, "map": {"version":3,"sources":["file:///home/siripoom/tas-front/src/components/participation/EvidenceListModal.js"],"sourcesContent":["\"use client\";\n\nimport { Modal, Table, Button, Tag, Avatar, Image, Input } from \"antd\";\nimport { CheckCircle, XCircle, FileText, User, Eye } from \"lucide-react\";\nimport { useState } from \"react\";\n\nconst { TextArea } = Input;\n\nconst EvidenceListModal = ({ visible, onClose, activity, onApprove, onReject }) => {\n  const [previewVisible, setPreviewVisible] = useState(false);\n  const [previewImage, setPreviewImage] = useState(\"\");\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n  const [rejectModalVisible, setRejectModalVisible] = useState(false);\n  const [rejectReason, setRejectReason] = useState(\"\");\n  const [studentsToReject, setStudentsToReject] = useState([]);\n\n  // Process attendances data from activity for evidence\n  const getStudentsWithEvidence = () => {\n    if (!activity?.attendances) {\n      return [];\n    }\n\n    return activity.attendances\n      .filter((attendance) => [\"completed\", \"uncompleted\"].includes(attendance.status))\n      .map((attendance) => ({\n        ...attendance,\n        studentId: attendance.user?.studentId || \"-\",\n        name: attendance.user?.fullname || \"Unknown\",\n        department: attendance.user?.department?.name || \"-\",\n        major: attendance.user?.major?.name || \"-\",\n        year: attendance.user?.level || \"-\",\n        evidenceUrl: null, // TODO: Get from fileActivities\n        uploadDate: attendance.updatedAt?.split('T')[0] || \"-\",\n        status: attendance.status === \"completed\" ? \"approved\" : \"pending\",\n      }));\n  };\n\n  const studentsWithEvidence = getStudentsWithEvidence();\n\n  const handlePreview = (imageUrl) => {\n    setPreviewImage(imageUrl);\n    setPreviewVisible(true);\n  };\n\n  const handleBulkApprove = () => {\n    const selectedStudents = studentsWithEvidence.filter(\n      (student) => selectedRowKeys.includes(student.id) && student.status === \"pending\"\n    );\n    selectedStudents.forEach((student) => onApprove(student));\n    setSelectedRowKeys([]);\n  };\n\n  const handleRejectClick = (student = null) => {\n    if (student) {\n      setStudentsToReject([student]);\n    } else {\n      const selectedStudents = studentsWithEvidence.filter(\n        (student) => selectedRowKeys.includes(student.id) && student.status === \"pending\"\n      );\n      setStudentsToReject(selectedStudents);\n    }\n    setRejectModalVisible(true);\n  };\n\n  const handleConfirmReject = () => {\n    if (!rejectReason.trim()) {\n      alert(\"กรุณาระบุเหตุผลในการไม่อนุมัติ\");\n      return;\n    }\n    studentsToReject.forEach((student) => {\n      onReject({ ...student, rejectReason });\n    });\n    setRejectModalVisible(false);\n    setRejectReason(\"\");\n    setStudentsToReject([]);\n    setSelectedRowKeys([]);\n  };\n\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: (selectedKeys) => {\n      setSelectedRowKeys(selectedKeys);\n    },\n    getCheckboxProps: (record) => ({\n      disabled: record.status !== \"pending\",\n    }),\n  };\n\n  const columns = [\n    {\n      title: \"No.\",\n      dataIndex: \"index\",\n      key: \"index\",\n      width: 70,\n      align: \"center\",\n      render: (text, record, index) => index + 1,\n    },\n    {\n      title: \"Student\",\n      dataIndex: \"name\",\n      key: \"name\",\n      render: (name, record) => (\n        <div className=\"flex items-center gap-2\">\n          <Avatar\n            size={32}\n            style={{ backgroundColor: \"#0A894C\" }}\n            icon={<User size={18} />}\n          />\n          <div>\n            <div className=\"font-medium\">{name}</div>\n            <div className=\"text-xs text-gray-500\">{record.studentId}</div>\n          </div>\n        </div>\n      ),\n    },\n    {\n      title: \"Department\",\n      dataIndex: \"department\",\n      key: \"department\",\n      width: 180,\n    },\n    {\n      title: \"Major\",\n      dataIndex: \"major\",\n      key: \"major\",\n      width: 100,\n      align: \"center\",\n      render: (major) => (\n        <Tag color=\"#0A894C\" style={{ borderRadius: 8 }}>\n          {major}\n        </Tag>\n      ),\n    },\n    {\n      title: \"Year\",\n      dataIndex: \"year\",\n      key: \"year\",\n      width: 80,\n      align: \"center\",\n      render: (year) => `Year ${year}`,\n    },\n    {\n      title: \"Upload Date\",\n      dataIndex: \"uploadDate\",\n      key: \"uploadDate\",\n      width: 120,\n      align: \"center\",\n    },\n    {\n      title: \"Evidence\",\n      dataIndex: \"evidenceUrl\",\n      key: \"evidenceUrl\",\n      width: 100,\n      align: \"center\",\n      render: (url) => (\n        <Button\n          size=\"small\"\n          icon={<Eye size={16} />}\n          onClick={() => handlePreview(url)}\n          style={{\n            backgroundColor: \"#0A894C\",\n            borderColor: \"#0A894C\",\n            color: \"#ffffff\",\n          }}\n        >\n          View\n        </Button>\n      ),\n    },\n    {\n      title: \"Status\",\n      dataIndex: \"status\",\n      key: \"status\",\n      width: 120,\n      align: \"center\",\n      render: (status) => {\n        const statusConfig = {\n          pending: { color: \"#fa8c16\", text: \"Pending\" },\n          approved: { color: \"#0A894C\", text: \"Approved\" },\n          rejected: { color: \"#f5222d\", text: \"Rejected\" },\n        };\n        const config = statusConfig[status] || statusConfig.pending;\n        return (\n          <Tag color={config.color} style={{ borderRadius: 8, fontWeight: 500 }}>\n            {config.text}\n          </Tag>\n        );\n      },\n    },\n    {\n      title: \"Actions\",\n      key: \"action\",\n      width: 120,\n      align: \"center\",\n      render: (_, record) => (\n        <div className=\"flex gap-2 justify-center\">\n          {record.status === \"pending\" ? (\n            <Button\n              size=\"small\"\n              danger\n              icon={<XCircle size={16} />}\n              onClick={() => handleRejectClick(record)}\n            >\n              Reject\n            </Button>\n          ) : (\n            <span className=\"text-xs text-gray-500\">\n              {record.status === \"approved\" ? \"Already approved\" : \"Already rejected\"}\n            </span>\n          )}\n        </div>\n      ),\n    },\n  ];\n\n  return (\n    <>\n      <Modal\n        title={\n          <div>\n            <h3 className=\"text-lg font-semibold\" style={{ color: \"#0A894C\" }}>\n              <FileText size={20} className=\"inline mr-2\" />\n              Evidence Review\n            </h3>\n            <p className=\"text-sm text-gray-500 mt-1\">\n              {activity?.name || activity?.activityName || \"กิจกรรม\"}\n            </p>\n          </div>\n        }\n        open={visible}\n        onCancel={onClose}\n        width={1100}\n        footer={null}\n        styles={{\n          header: {\n            borderBottom: \"2px solid #0A894C\",\n            paddingBottom: 16,\n          },\n        }}\n      >\n        <div className=\"mt-4\">\n          {selectedRowKeys.length > 0 && (\n            <div className=\"mb-4 flex gap-2\">\n              <Button\n                type=\"primary\"\n                icon={<CheckCircle size={16} />}\n                onClick={handleBulkApprove}\n                style={{\n                  backgroundColor: \"#0A894C\",\n                  borderColor: \"#0A894C\",\n                }}\n              >\n                Approve Selected ({selectedRowKeys.length})\n              </Button>\n              <Button\n                danger\n                icon={<XCircle size={16} />}\n                onClick={() => handleRejectClick()}\n              >\n                Reject Selected ({selectedRowKeys.length})\n              </Button>\n            </div>\n          )}\n          <Table\n            columns={columns}\n            dataSource={studentsWithEvidence}\n            rowKey=\"id\"\n            rowSelection={rowSelection}\n            pagination={{ pageSize: 5 }}\n            scroll={{ x: 900 }}\n          />\n        </div>\n      </Modal>\n\n      {/* Image Preview Modal */}\n      <Modal\n        open={previewVisible}\n        title=\"Evidence Preview\"\n        footer={null}\n        onCancel={() => setPreviewVisible(false)}\n        width={600}\n      >\n        <Image\n          src={previewImage}\n          alt=\"Evidence\"\n          style={{ width: \"100%\" }}\n          preview={false}\n        />\n      </Modal>\n\n      {/* Rejection Reason Modal */}\n      <Modal\n        title=\"Rejection Reason\"\n        open={rejectModalVisible}\n        onCancel={() => {\n          setRejectModalVisible(false);\n          setRejectReason(\"\");\n          setStudentsToReject([]);\n        }}\n        onOk={handleConfirmReject}\n        okText=\"Confirm\"\n        cancelText=\"Cancel\"\n        okButtonProps={{\n          style: { backgroundColor: \"#f5222d\", borderColor: \"#f5222d\" },\n        }}\n      >\n        <div className=\"mb-4\">\n          <p className=\"text-gray-600 mb-2\">\n            Students to reject: {studentsToReject.map((s) => s.name).join(\", \")}\n          </p>\n          <TextArea\n            rows={4}\n            placeholder=\"Please provide a reason for rejection...\"\n            value={rejectReason}\n            onChange={(e) => setRejectReason(e.target.value)}\n          />\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default EvidenceListModal;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1495, "column": 0}, "map": {"version":3,"sources":["file:///home/siripoom/tas-front/src/services/apiClient.js"],"sourcesContent":["// creat a axios instance with default config\nimport axios from \"axios\";\n\nconst apiClient = axios.create({\n  baseURL: process.env.NEXT_PUBLIC_API_BASE_URL || \"http://localhost:4556/api\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\n// Add a request interceptor to include auth token if available\napiClient.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\nexport default apiClient;\n"],"names":[],"mappings":"AAAA,6CAA6C;;;;;AAIlC;AAHX;;AAEA,MAAM,YAAY,mJAAK,CAAC,MAAM,CAAC;IAC7B,SAAS,iEAAwC;IACjD,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,+DAA+D;AAC/D,UAAU,YAAY,CAAC,OAAO,CAAC,GAAG,CAChC,CAAC;IACC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 1527, "column": 0}, "map": {"version":3,"sources":["file:///home/siripoom/tas-front/src/services/activity.js"],"sourcesContent":["import apiClient from \"./apiClient\";\n\n// Get all activities\nexport const getAllActivities = async (params = {}) => {\n  const response = await apiClient.get(\"/activities\", { params });\n  return response.data;\n};\n\n// Get activities report\nexport const getActivitiesReport = async (params = {}) => {\n  const response = await apiClient.get(\"/activities/report\", { params });\n  return response.data;\n};\n\n// Get activity by ID\nexport const getActivityById = async (id) => {\n  const response = await apiClient.get(`/activities/${id}`);\n  return response.data;\n};\n\n// Create new activity\nexport const createActivity = async (data) => {\n  const response = await apiClient.post(\"/activities\", data);\n  return response.data;\n};\n\n// Update activity\nexport const updateActivity = async (id, data) => {\n  const response = await apiClient.put(`/activities/${id}`, data);\n  return response.data;\n};\n\n// Delete activity\nexport const deleteActivity = async (id) => {\n  const response = await apiClient.delete(`/activities/${id}`);\n  return response.data;\n};\n\n// Get activities by responsible user\nexport const getActivitiesByResponsible = async (userId) => {\n  const response = await apiClient.get(`/activities/responsible/${userId}`);\n  return response.data;\n};\n\n// Get activities with query parameters with departmentId or year Query: one of `departmentId` **or** `year` **or** `typeActivityId` (must send exactly one)\nexport const getActivitiesWithQuery = async (queryParams) => {\n  const response = await apiClient.get(\"/activities/filter\", {\n    params: queryParams,\n  });\n  console.log(response.data);\n\n  return response.data;\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;AAGO,MAAM,mBAAmB,OAAO,SAAS,CAAC,CAAC;IAChD,MAAM,WAAW,MAAM,0IAAS,CAAC,GAAG,CAAC,eAAe;QAAE;IAAO;IAC7D,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,sBAAsB,OAAO,SAAS,CAAC,CAAC;IACnD,MAAM,WAAW,MAAM,0IAAS,CAAC,GAAG,CAAC,sBAAsB;QAAE;IAAO;IACpE,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,kBAAkB,OAAO;IACpC,MAAM,WAAW,MAAM,0IAAS,CAAC,GAAG,CAAC,CAAC,YAAY,EAAE,IAAI;IACxD,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,iBAAiB,OAAO;IACnC,MAAM,WAAW,MAAM,0IAAS,CAAC,IAAI,CAAC,eAAe;IACrD,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,iBAAiB,OAAO,IAAI;IACvC,MAAM,WAAW,MAAM,0IAAS,CAAC,GAAG,CAAC,CAAC,YAAY,EAAE,IAAI,EAAE;IAC1D,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,iBAAiB,OAAO;IACnC,MAAM,WAAW,MAAM,0IAAS,CAAC,MAAM,CAAC,CAAC,YAAY,EAAE,IAAI;IAC3D,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,6BAA6B,OAAO;IAC/C,MAAM,WAAW,MAAM,0IAAS,CAAC,GAAG,CAAC,CAAC,wBAAwB,EAAE,QAAQ;IACxE,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,yBAAyB,OAAO;IAC3C,MAAM,WAAW,MAAM,0IAAS,CAAC,GAAG,CAAC,sBAAsB;QACzD,QAAQ;IACV;IACA,QAAQ,GAAG,CAAC,SAAS,IAAI;IAEzB,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 1593, "column": 0}, "map": {"version":3,"sources":["file:///home/siripoom/tas-front/src/services/attendance.js"],"sourcesContent":["import apiClient from \"./apiClient\";\n\n// Get all attendances\nexport const getAllAttendances = async () => {\n  const response = await apiClient.get(\"/attendances\");\n  return response.data;\n};\n\n// Get attendance by ID\nexport const getAttendanceById = async (id) => {\n  const response = await apiClient.get(`/attendances/${id}`);\n  return response.data;\n};\n\n// Create new attendance\nexport const createAttendance = async (data) => {\n  const response = await apiClient.post(\"/attendances\", data);\n  return response.data;\n};\n\n// Update attendance\nexport const updateAttendance = async (id, data) => {\n  const response = await apiClient.put(`/attendances/${id}`, data);\n  return response.data;\n};\n\n// Delete attendance\nexport const deleteAttendance = async (id) => {\n  const response = await apiClient.delete(`/attendances/${id}`);\n  return response.data;\n};\n\n// Get attendances by user\nexport const getAttendancesByUser = async (userId) => {\n  const response = await apiClient.get(`/attendances/user/${userId}`);\n  return response.data;\n};\n\n// Get attendances by activity\nexport const getAttendancesByActivity = async (activityId) => {\n  const response = await apiClient.get(`/attendances/activity/${activityId}`);\n  return response.data;\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;;AAGO,MAAM,oBAAoB;IAC/B,MAAM,WAAW,MAAM,0IAAS,CAAC,GAAG,CAAC;IACrC,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,oBAAoB,OAAO;IACtC,MAAM,WAAW,MAAM,0IAAS,CAAC,GAAG,CAAC,CAAC,aAAa,EAAE,IAAI;IACzD,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,mBAAmB,OAAO;IACrC,MAAM,WAAW,MAAM,0IAAS,CAAC,IAAI,CAAC,gBAAgB;IACtD,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,mBAAmB,OAAO,IAAI;IACzC,MAAM,WAAW,MAAM,0IAAS,CAAC,GAAG,CAAC,CAAC,aAAa,EAAE,IAAI,EAAE;IAC3D,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,mBAAmB,OAAO;IACrC,MAAM,WAAW,MAAM,0IAAS,CAAC,MAAM,CAAC,CAAC,aAAa,EAAE,IAAI;IAC5D,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,uBAAuB,OAAO;IACzC,MAAM,WAAW,MAAM,0IAAS,CAAC,GAAG,CAAC,CAAC,kBAAkB,EAAE,QAAQ;IAClE,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,2BAA2B,OAAO;IAC7C,MAAM,WAAW,MAAM,0IAAS,CAAC,GAAG,CAAC,CAAC,sBAAsB,EAAE,YAAY;IAC1E,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 1646, "column": 0}, "map": {"version":3,"sources":["file:///home/siripoom/tas-front/src/app/admin/participation/page.js"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Tabs, Card, message, Spin } from \"antd\";\nimport { Users, FileCheck } from \"lucide-react\";\nimport SearchFilterBar from \"@/components/participation/SearchFilterBar\";\nimport ParticipationTable from \"@/components/participation/ParticipationTable\";\nimport StudentListModal from \"@/components/participation/StudentListModal\";\nimport EvidenceListModal from \"@/components/participation/EvidenceListModal\";\nimport { getAllActivities } from \"@/services/activity\";\nimport { getAllAttendances, updateAttendance } from \"@/services/attendance\";\n\nexport default function ParticipationPage() {\n  const [activeTab, setActiveTab] = useState(\"participation\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [filters, setFilters] = useState({\n    department: null,\n    major: null,\n    year: null,\n  });\n  const [modalVisible, setModalVisible] = useState(false);\n  const [evidenceModalVisible, setEvidenceModalVisible] = useState(false);\n  const [selectedActivity, setSelectedActivity] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [activities, setActivities] = useState([]);\n  const [attendances, setAttendances] = useState([]);\n\n  // Fetch data from API\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    setLoading(true);\n    try {\n      const [activitiesData, attendancesData] = await Promise.all([\n        getAllActivities(),\n        getAllAttendances(),\n      ]);\n\n      setActivities(activitiesData);\n      setAttendances(attendancesData);\n    } catch (error) {\n      message.error(\"ไม่สามารถโหลดข้อมูลการเข้าร่วมได้\");\n      console.error(\"Error fetching data:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Get activities with attendance counts\n  const getActivitiesWithAttendances = () => {\n    return activities.map((activity) => {\n      // Count attendances for this activity\n      const activityAttendances = attendances.filter(\n        (att) => att.activityId === activity.id\n      );\n\n      // For participation tab - count joined/accepted/Inprogress\n      const participationCount = activityAttendances.filter((att) =>\n        [\"joined\", \"accepted\", \"Inprogress\"].includes(att.status)\n      ).length;\n\n      // For evidence tab - count completed\n      const evidenceCount = activityAttendances.filter((att) =>\n        [\"completed\", \"uncompleted\"].includes(att.status)\n      ).length;\n\n      return {\n        ...activity,\n        participationCount,\n        evidenceCount,\n        attendances: activityAttendances,\n      };\n    });\n  };\n\n  // Filter and search data\n  const getFilteredData = () => {\n    let filtered = getActivitiesWithAttendances();\n\n    // Apply search filter\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(\n        (item) =>\n          item.name?.toLowerCase().includes(query) ||\n          item.department?.name?.toLowerCase().includes(query)\n      );\n    }\n\n    // Apply department filter\n    if (filters.department) {\n      filtered = filtered.filter(\n        (item) => item.department?.name === filters.department\n      );\n    }\n\n    // Apply major filter\n    if (filters.major) {\n      filtered = filtered.filter((item) =>\n        item.majorJoins?.some((mj) => mj.major?.name === filters.major)\n      );\n    }\n\n    // Apply year filter\n    if (filters.year) {\n      filtered = filtered.filter((item) => item.level === `ปี ${filters.year}`);\n    }\n\n    return filtered;\n  };\n\n  const handleSearch = (value) => {\n    setSearchQuery(value);\n  };\n\n  const handleFilterChange = (type, value) => {\n    setFilters((prev) => ({\n      ...prev,\n      [type]: value,\n    }));\n  };\n\n  const handleReset = () => {\n    setSearchQuery(\"\");\n    setFilters({\n      department: null,\n      major: null,\n      year: null,\n    });\n    message.success(\"Reset filters successfully\");\n  };\n\n  const handleView = (record) => {\n    setSelectedActivity(record);\n    setModalVisible(true);\n  };\n\n  const handleViewEvidence = (record) => {\n    setSelectedActivity(record);\n    setEvidenceModalVisible(true);\n  };\n\n  const handleEdit = (record) => {\n    message.info(`Edit activity: ${record.activityName}`);\n  };\n\n  const handleDelete = (record) => {\n    message.success(`Deleted activity: ${record.activityName}`);\n  };\n\n  const handleApprove = async (attendance) => {\n    try {\n      await updateAttendance(attendance.id, { status: \"accepted\" });\n      message.success(`อนุมัติการเข้าร่วมสำเร็จ`);\n      fetchData(); // Refresh data\n    } catch (error) {\n      message.error(\"ไม่สามารถอนุมัติการเข้าร่วมได้\");\n      console.error(\"Error approving attendance:\", error);\n    }\n  };\n\n  const handleReject = async (attendance) => {\n    try {\n      await updateAttendance(attendance.id, { status: \"rejected\" });\n      message.error(`ปฏิเสธการเข้าร่วมสำเร็จ`);\n      fetchData(); // Refresh data\n    } catch (error) {\n      message.error(\"ไม่สามารถปฏิเสธการเข้าร่วมได้\");\n      console.error(\"Error rejecting attendance:\", error);\n    }\n  };\n\n  const handleApproveEvidence = async (attendance) => {\n    try {\n      await updateAttendance(attendance.id, { status: \"completed\" });\n      message.success(`อนุมัติหลักฐานสำเร็จ`);\n      fetchData(); // Refresh data\n    } catch (error) {\n      message.error(\"ไม่สามารถอนุมัติหลักฐานได้\");\n      console.error(\"Error approving evidence:\", error);\n    }\n  };\n\n  const handleRejectEvidence = async (attendance) => {\n    try {\n      await updateAttendance(attendance.id, { status: \"uncompleted\" });\n      message.error(`ปฏิเสธหลักฐานสำเร็จ`);\n      fetchData(); // Refresh data\n    } catch (error) {\n      message.error(\"ไม่สามารถปฏิเสธหลักฐานได้\");\n      console.error(\"Error rejecting evidence:\", error);\n    }\n  };\n\n  const tabItems = [\n    {\n      key: \"participation\",\n      label: (\n        <span className=\"flex items-center gap-2\">\n          <Users size={18} />\n          Event Participation\n        </span>\n      ),\n      children: (\n        <div>\n          <SearchFilterBar\n            onSearch={handleSearch}\n            onFilterChange={handleFilterChange}\n            onReset={handleReset}\n          />\n          <Card\n            style={{\n              borderRadius: 8,\n              border: \"1px solid #e8f5e9\",\n              boxShadow: \"0 2px 8px rgba(10, 137, 76, 0.08)\",\n            }}\n          >\n            <Spin spinning={loading}>\n              <ParticipationTable\n                data={getFilteredData()}\n                onView={handleView}\n                onEdit={handleEdit}\n                onDelete={handleDelete}\n                showParticipationCount={true}\n              />\n            </Spin>\n          </Card>\n        </div>\n      ),\n    },\n    {\n      key: \"evidence\",\n      label: (\n        <span className=\"flex items-center gap-2\">\n          <FileCheck size={18} />\n          Participation Evidence\n        </span>\n      ),\n      children: (\n        <div>\n          <SearchFilterBar\n            onSearch={handleSearch}\n            onFilterChange={handleFilterChange}\n            onReset={handleReset}\n          />\n          <Card\n            style={{\n              borderRadius: 8,\n              border: \"1px solid #e8f5e9\",\n              boxShadow: \"0 2px 8px rgba(10, 137, 76, 0.08)\",\n            }}\n          >\n            <Spin spinning={loading}>\n              <ParticipationTable\n                data={getFilteredData()}\n                onView={handleViewEvidence}\n                onEdit={handleEdit}\n                onDelete={handleDelete}\n                showEvidenceCount={true}\n              />\n            </Spin>\n          </Card>\n        </div>\n      ),\n    },\n  ];\n\n  return (\n    <div>\n      <Tabs\n        activeKey={activeTab}\n        onChange={setActiveTab}\n        items={tabItems}\n        size=\"large\"\n        className=\"custom-main-tabs\"\n      />\n\n      <StudentListModal\n        visible={modalVisible}\n        onClose={() => setModalVisible(false)}\n        activity={selectedActivity}\n        onApprove={handleApprove}\n        onReject={handleReject}\n      />\n\n      <EvidenceListModal\n        visible={evidenceModalVisible}\n        onClose={() => setEvidenceModalVisible(false)}\n        activity={selectedActivity}\n        onApprove={handleApproveEvidence}\n        onReject={handleRejectEvidence}\n      />\n\n      <style jsx global>{`\n        .custom-main-tabs .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn {\n          color: #0a894c !important;\n          font-weight: 600 !important;\n        }\n        .custom-main-tabs .ant-tabs-ink-bar {\n          background: #0a894c !important;\n          height: 3px !important;\n        }\n        .custom-main-tabs .ant-tabs-tab:hover {\n          color: #0a894c !important;\n        }\n        .custom-main-tabs .ant-tabs-nav {\n          margin-bottom: 24px !important;\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}