(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26912,e=>{"use strict";let t=(0,e.i(75254).default)("file-check",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);e.s(["FileCheck",()=>t],26912)},2143,e=>{"use strict";var t=e.i(43476),n=e.i(71645),r=e.i(47437),a=e.i(64571),o=e.i(12931),l=e.i(96870),i=e.i(82725),s=e.i(91542),c=e.i(62218),d=e.i(11451);e.i(47167);var u=e.i(40383),m=e.i(7670),p=e.i(28473),f=e.i(51160);e.i(63335);var g=e.i(80251),h=e.i(1676),x=e.i(30731);let v=n.createContext(null);function y(){return{width:document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight}}var C=e.i(18696),b=e.i(37434);let w={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};var j=e.i(24308);function E(e,t,n,r){let a=t+n,o=(n-r)/2;if(n>r){if(t>0)return{[e]:o};if(t<0&&a<r)return{[e]:-o}}else if(t<0||a>r)return{[e]:t<0?o:-o};return{}}function k(e,t,n,r){let{width:a,height:o}=y(),l=null;return e<=a&&t<=o?l={x:0,y:0}:(e>a||t>o)&&(l={...E("x",n,e,a),...E("y",r,t,o)}),l}function S({src:e,isCustomPlaceholder:t,fallback:r}){let[a,o]=(0,n.useState)(t?"loading":"normal"),l=(0,n.useRef)(!1),i="error"===a;(0,n.useEffect)(()=>{let t=!0;return new Promise(t=>{if(!e)return void t(!1);let n=document.createElement("img");n.onerror=()=>t(!1),n.onload=()=>t(!0),n.src=e}).then(e=>{!e&&t&&o("error")}),()=>{t=!1}},[e]),(0,n.useEffect)(()=>{t&&!l.current?o("loading"):i&&o("normal")},[e]);let s=()=>{o("normal")};return[e=>{l.current=!1,"loading"===a&&e?.complete&&(e.naturalWidth||e.naturalHeight)&&(l.current=!0,s())},i&&r?{src:r}:{onLoad:s,src:e},a]}function N(e,t){return Math.hypot(e.x-t.x,e.y-t.y)}function I(e){let{prefixCls:t,icon:r,onClick:a}=e;return n.createElement("button",{className:`${t}-close`,onClick:a},r)}function M(e){let{prefixCls:t,showProgress:r,current:a,count:o,showSwitch:l,classNames:i,styles:s,icons:c,image:d,transform:u,countRender:p,actionsRender:f,scale:g,minScale:h,maxScale:x,onActive:v,onFlipY:y,onFlipX:C,onRotateLeft:b,onRotateRight:w,onZoomOut:j,onZoomIn:E,onClose:k,onReset:S}=e,{left:N,right:I,prev:M,next:z,flipY:A,flipX:$,rotateLeft:L,rotateRight:T,zoomOut:R,zoomIn:D}=c,P=r&&n.createElement("div",{className:`${t}-progress`},p?p(a+1,o):n.createElement("bdi",null,`${a+1} / ${o}`)),O=`${t}-actions-action`,Y=({type:e,disabled:t,onClick:r,icon:a})=>n.createElement("div",{key:e,className:(0,m.clsx)(O,`${O}-${e}`,{[`${O}-disabled`]:!!t}),onClick:r},a),X=l?Y({icon:M??N,onClick:()=>v(-1),type:"prev",disabled:0===a}):void 0,B=l?Y({icon:z??I,onClick:()=>v(1),type:"next",disabled:a===o-1}):void 0,U=Y({icon:A,onClick:y,type:"flipY"}),H=Y({icon:$,onClick:C,type:"flipX"}),F=Y({icon:L,onClick:b,type:"rotateLeft"}),W=Y({icon:T,onClick:w,type:"rotateRight"}),V=Y({icon:R,onClick:j,type:"zoomOut",disabled:g<=h}),Z=Y({icon:D,onClick:E,type:"zoomIn",disabled:g===x}),G=n.createElement("div",{className:(0,m.clsx)(`${t}-actions`,i.actions),style:s.actions},U,H,F,W,V,Z);return n.createElement("div",{className:(0,m.clsx)(`${t}-footer`,i.footer),style:s.footer},P,f?f(G,{icons:{prevIcon:X,nextIcon:B,flipYIcon:U,flipXIcon:H,rotateLeftIcon:F,rotateRightIcon:W,zoomOutIcon:V,zoomInIcon:Z},actions:{onActive:v,onFlipY:y,onFlipX:C,onRotateLeft:b,onRotateRight:w,onZoomOut:j,onZoomIn:E,onReset:S,onClose:k},transform:u,current:a,total:o,image:d}):G)}function z(e){let{prefixCls:t,onActive:r,current:a,count:o,icons:{left:l,right:i,prev:s,next:c}}=e,d=`${t}-switch`;return n.createElement(n.Fragment,null,n.createElement("div",{className:(0,m.clsx)(d,`${d}-prev`,{[`${d}-disabled`]:0===a}),onClick:()=>r(-1)},s??l),n.createElement("div",{className:(0,m.clsx)(d,`${d}-next`,{[`${d}-disabled`]:a===o-1}),onClick:()=>r(1)},c??i))}function A(){return(A=Object.assign.bind()).apply(this,arguments)}let $=({fallback:e,src:t,imgRef:r,...a})=>{let[o,l]=S({src:t,fallback:e});return n.default.createElement("img",A({ref:e=>{r.current=e,o(e)}},a,l))},L=e=>{let{prefixCls:t,rootClassName:r,src:a,alt:o,imageInfo:l,fallback:i,movable:s=!0,onClose:c,open:d,afterOpenChange:u,icons:E={},closeIcon:S,getContainer:L,current:T=0,count:R=1,countRender:D,scaleStep:P=.5,minScale:O=1,maxScale:Y=50,motionName:X="fade",imageRender:B,imgCommonProps:U,actionsRender:H,onTransform:F,onChange:W,classNames:V={},styles:Z={},mousePosition:G,zIndex:Q}=e,_=(0,n.useRef)(),J=(0,n.useContext)(v),K=J&&R>1,q=J&&R>=1,[ee,et]=(0,n.useState)(!0),{transform:en,resetTransform:er,updateTransform:ea,dispatchZoomChange:eo}=function(e,t,r,a){let o=(0,n.useRef)(null),l=(0,n.useRef)([]),[i,s]=(0,n.useState)(w),c=(e,t)=>{null===o.current&&(l.current=[],o.current=(0,b.default)(()=>{s(e=>{let n=e;return l.current.forEach(e=>{n={...n,...e}}),o.current=null,a?.({transform:n,action:t}),n})})),l.current.push({...i,...e})};return{transform:i,resetTransform:e=>{s(w),(0,C.default)(w,i)||a?.({transform:w,action:e})},updateTransform:c,dispatchZoomChange:(n,a,o,l,s)=>{let{width:d,height:u,offsetWidth:m,offsetHeight:p,offsetLeft:f,offsetTop:g}=e.current,h=n,x=i.scale*n;x>r?(x=r,h=r/i.scale):x<t&&(h=(x=s?x:t)/i.scale);let v=l??innerHeight/2,C=h-1,b=C*((o??innerWidth/2)-i.x-f),w=C*(v-i.y-g),j=i.x-(b-C*d*.5),E=i.y-(w-C*u*.5);if(n<1&&1===x){let e=m*x,t=p*x,{width:n,height:r}=y();e<=n&&t<=r&&(j=0,E=0)}c({x:j,y:E,scale:x},a)}}}(_,O,Y,F),{isMoving:el,onMouseDown:ei,onWheel:es}=function(e,t,r,a,o,l,i){let{rotate:s,scale:c,x:d,y:u}=o,[m,p]=(0,n.useState)(!1),f=(0,n.useRef)({diffX:0,diffY:0,transformX:0,transformY:0}),g=e=>{r&&m&&l({x:e.pageX-f.current.diffX,y:e.pageY-f.current.diffY},"move")},h=()=>{if(r&&m){p(!1);let{transformX:t,transformY:n}=f.current;if(d===t||u===n)return;let r=e.current.offsetWidth*c,a=e.current.offsetHeight*c,{left:o,top:i}=e.current.getBoundingClientRect(),m=s%180!=0,g=k(m?a:r,m?r:a,o,i);g&&l({...g},"dragRebound")}};return(0,n.useEffect)(()=>{if(t){window.addEventListener("mouseup",h,!1),window.addEventListener("mousemove",g,!1);try{window.top!==window.self&&(window.top.addEventListener("mouseup",h,!1),window.top.addEventListener("mousemove",g,!1))}catch(e){(0,j.warning)(!1,`[rc-image] ${e}`)}}return()=>{window.removeEventListener("mouseup",h),window.removeEventListener("mousemove",g),window.top?.removeEventListener("mouseup",h),window.top?.removeEventListener("mousemove",g)}},[r,m,d,u,s,t]),{isMoving:m,onMouseDown:e=>{t&&0===e.button&&(e.preventDefault(),e.stopPropagation(),f.current={diffX:e.pageX-d,diffY:e.pageY-u,transformX:d,transformY:u},p(!0))},onMouseMove:g,onMouseUp:h,onWheel:e=>{if(!r||0==e.deltaY)return;let t=1+Math.min(Math.abs(e.deltaY/100),1)*a;e.deltaY>0&&(t=1/t),i(t,"wheel",e.clientX,e.clientY)}}}(_,s,d,P,en,ea,eo),{isTouching:ec,onTouchStart:ed,onTouchMove:eu,onTouchEnd:em}=function(e,t,r,a,o,l,i){let{rotate:s,scale:c,x:d,y:u}=o,[m,p]=(0,n.useState)(!1),f=(0,n.useRef)({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),g=e=>{f.current={...f.current,...e}};return(0,n.useEffect)(()=>{let e=e=>{e.preventDefault()};return r&&t&&window.addEventListener("touchmove",e,{passive:!1}),()=>{window.removeEventListener("touchmove",e)}},[r,t]),{isTouching:m,onTouchStart:e=>{if(!t)return;e.stopPropagation(),p(!0);let{touches:n=[]}=e;n.length>1?g({point1:{x:n[0].clientX,y:n[0].clientY},point2:{x:n[1].clientX,y:n[1].clientY},eventType:"touchZoom"}):g({point1:{x:n[0].clientX-d,y:n[0].clientY-u},eventType:"move"})},onTouchMove:e=>{let{touches:t=[]}=e,{point1:n,point2:r,eventType:a}=f.current;if(t.length>1&&"touchZoom"===a){let e={x:t[0].clientX,y:t[0].clientY},a={x:t[1].clientX,y:t[1].clientY},[o,l]=function(e,t,n,r){let a=N(e,n),o=N(t,r);if(0===a&&0===o)return[e.x,e.y];let l=a/(a+o);return[e.x+l*(t.x-e.x),e.y+l*(t.y-e.y)]}(n,r,e,a);i(N(e,a)/N(n,r),"touchZoom",o,l,!0),g({point1:e,point2:a,eventType:"touchZoom"})}else"move"===a&&(l({x:t[0].clientX-n.x,y:t[0].clientY-n.y},"move"),g({eventType:"move"}))},onTouchEnd:()=>{if(!r)return;if(m&&p(!1),g({eventType:"none"}),a>c)return l({x:0,y:0,scale:a},"touchZoom");let t=e.current.offsetWidth*c,n=e.current.offsetHeight*c,{left:o,top:i}=e.current.getBoundingClientRect(),d=s%180!=0,u=k(d?n:t,d?t:n,o,i);u&&l({...u},"dragRebound")}}}(_,s,d,O,en,ea,eo),{rotate:ep,scale:ef}=en;(0,n.useEffect)(()=>{ee||et(!0)},[ee]),(0,n.useEffect)(()=>{d||er("close")},[d]);let eg=n.default.createElement($,A({},U,{width:e.width,height:e.height,imgRef:_,className:`${t}-img`,alt:o,style:{transform:`translate3d(${en.x}px, ${en.y}px, 0) scale3d(${en.flipX?"-":""}${ef}, ${en.flipY?"-":""}${ef}, 1) rotate(${ep}deg)`,transitionDuration:(!ee||ec)&&"0s"},fallback:i,src:a,onWheel:es,onMouseDown:ei,onDoubleClick:e=>{d&&(1!==ef?ea({x:0,y:0,scale:1},"doubleClick"):eo(1+P,"doubleClick",e.clientX,e.clientY))},onTouchStart:ed,onTouchMove:eu,onTouchEnd:em,onTouchCancel:em})),eh={url:a,alt:o,...l},ex=()=>{eo(1+P,"zoomIn")},ev=()=>{eo(1/(1+P),"zoomOut")},ey=()=>{ea({rotate:ep+90},"rotateRight")},eC=()=>{ea({rotate:ep-90},"rotateLeft")},eb=()=>{ea({flipX:!en.flipX},"flipX")},ew=()=>{ea({flipY:!en.flipY},"flipY")},ej=()=>{er("reset")},eE=e=>{let t=T+e;t>=0&&t<=R-1&&(et(!1),er(e<0?"prev":"next"),W?.(t,T))},ek=(0,g.useEvent)(e=>{if(d){let{keyCode:t}=e;t===x.default.ESC&&c?.(),K&&(t===x.default.LEFT?eE(-1):t===x.default.RIGHT&&eE(1))}});(0,n.useEffect)(()=>{if(d)return window.addEventListener("keydown",ek),()=>{window.removeEventListener("keydown",ek)}},[d]);let[eS,eN]=(0,n.useState)(!1);n.default.useEffect(()=>{d&&eN(!0)},[d]);let[eI,eM]=(0,n.useState)(!1);(0,h.default)(()=>{d&&eM(!0)},[d]);let ez={...Z.body};return G&&(ez.transformOrigin=`${G.x}px ${G.y}px`),n.default.createElement(f.default,{open:eI,getContainer:L,autoLock:eS},n.default.createElement(p.default,{motionName:X,visible:eI&&d,motionAppear:!0,motionEnter:!0,motionLeave:!0,onVisibleChanged:e=>{e||eN(!1),u?.(e)}},({className:e,style:a})=>{let o={...Z.root,...a};return Q&&(o.zIndex=Q),n.default.createElement("div",{className:(0,m.clsx)(t,r,V.root,e,{[`${t}-moving`]:el}),style:o},n.default.createElement("div",{className:(0,m.clsx)(`${t}-mask`,V.mask),style:Z.mask,onClick:c}),n.default.createElement("div",{className:(0,m.clsx)(`${t}-body`,V.body),style:ez},B?B(eg,{transform:en,image:eh,...J?{current:T}:{}}):eg),!1!==S&&null!==S&&n.default.createElement(I,{prefixCls:t,icon:!0===S?E.close:S||E.close,onClick:c}),K&&n.default.createElement(z,{prefixCls:t,current:T,count:R,icons:E,onActive:eE}),n.default.createElement(M,{prefixCls:t,showProgress:q,current:T,count:R,showSwitch:K,classNames:V,styles:Z,image:eh,transform:en,icons:E,countRender:D,actionsRender:H,scale:ef,minScale:O,maxScale:Y,onActive:eE,onFlipY:ew,onFlipX:eb,onRotateLeft:eC,onRotateRight:ey,onZoomOut:ev,onZoomIn:ex,onClose:c,onReset:ej}))}))};var T=e.i(40487);let R=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function D(){return(D=Object.assign.bind()).apply(this,arguments)}let P=0;function O(){return(O=Object.assign.bind()).apply(this,arguments)}let Y=e=>{let{prefixCls:t="rc-image",previewPrefixCls:r=`${t}-preview`,rootClassName:a,className:o,style:l,classNames:i={},styles:s={},width:c,height:d,src:p,alt:f,placeholder:g,fallback:h,preview:x=!0,onClick:y,onError:C,...b}=e,w=(0,n.useContext)(v),j=!!x,{src:E,open:k,onOpenChange:N,cover:I,rootClassName:M,...z}=x&&"object"==typeof x?x:{},A="object"==typeof I&&I.placement&&I.placement||"center",$="object"==typeof I&&I.coverNode?I.coverNode:I,[T,D]=(0,u.default)(!!k,k),[Y,X]=(0,n.useState)(null),B=e=>{D(e),N?.(e)},U=E??p,[H,F,W]=S({src:p,isCustomPlaceholder:g&&!0!==g,fallback:h}),V=(0,n.useMemo)(()=>{let t={};return R.forEach(n=>{void 0!==e[n]&&(t[n]=e[n])}),t},R.map(t=>e[t])),Z=function(e,t){let[r]=n.useState(()=>String(P+=1)),a=n.useContext(v),o={data:t,canPreview:e};return n.useEffect(()=>{if(a)return a.register(r,o)},[]),n.useEffect(()=>{a&&a.register(r,o)},[e,t]),r}(j,(0,n.useMemo)(()=>({...V,src:U}),[U,V]));return n.createElement(n.Fragment,null,n.createElement("div",O({},b,{className:(0,m.clsx)(t,a,i.root,{[`${t}-error`]:"error"===W}),onClick:j?e=>{let t=e.target.getBoundingClientRect(),n=t.x+t.width/2,r=t.y+t.height/2;w?w.onPreview(Z,U,n,r):(X({x:n,y:r}),B(!0)),y?.(e)}:y,style:{width:c,height:d,...s.root}}),n.createElement("img",O({},V,{className:(0,m.clsx)(`${t}-img`,{[`${t}-img-placeholder`]:!0===g},i.image,o),style:{height:d,...s.image,...l},ref:H},F,{width:c,height:d,onError:C})),"loading"===W&&n.createElement("div",{"aria-hidden":"true",className:`${t}-placeholder`},g),!1!==I&&j&&n.createElement("div",{className:(0,m.clsx)(`${t}-cover`,i.cover,`${t}-cover-${A}`),style:{display:l?.display==="none"?"none":void 0,...s.cover}},$)),!w&&j&&n.createElement(L,O({"aria-hidden":!T,open:T,prefixCls:r,onClose:()=>{B(!1)},mousePosition:Y,src:U,alt:f,imageInfo:{width:c,height:d},fallback:h,imgCommonProps:V},z,{classNames:i?.popup,styles:s?.popup,rootClassName:(0,m.clsx)(M,a)})))};Y.PreviewGroup=({previewPrefixCls:e="rc-image-preview",classNames:t,styles:r,children:a,icons:o={},items:l,preview:i,fallback:s})=>{let{open:c,onOpenChange:d,current:m,onChange:p,...f}=i&&"object"==typeof i?i:{},[g,h,x]=function(e){let[t,r]=n.useState({}),a=n.useCallback((e,t)=>(r(n=>({...n,[e]:t})),()=>{r(t=>{let n={...t};return delete n[e],n})}),[]);return[n.useMemo(()=>e?e.map(e=>{if("string"==typeof e)return{data:{src:e}};let t={};return Object.keys(e).forEach(n=>{["src",...R].includes(n)&&(t[n]=e[n])}),{data:t}}):Object.keys(t).reduce((e,n)=>{let{canPreview:r,data:a}=t[n];return r&&e.push({data:a,id:n}),e},[]),[e,t]),a,!!e]}(l),[y,C]=(0,u.default)(0,m),[b,w]=(0,n.useState)(!1),{src:j,...E}=g[y]?.data||{},[k,S]=(0,u.default)(!!c,c),N=(0,T.default)(e=>{S(e),e!==k&&d?.(e,{current:y})}),[I,M]=(0,n.useState)(null),z=n.useCallback((e,t,n,r)=>{let a=x?g.findIndex(e=>e.data.src===t):g.findIndex(t=>t.id===e);C(a<0?0:a),N(!0),M({x:n,y:r}),w(!0)},[g,x]);n.useEffect(()=>{k?b||C(0):w(!1)},[k]);let A=n.useMemo(()=>({register:h,onPreview:z}),[h,z]);return n.createElement(v.Provider,{value:A},a,n.createElement(L,D({"aria-hidden":!k,open:k,prefixCls:e,onClose:()=>{N(!1),M(null)},mousePosition:I,imgCommonProps:E,src:j,fallback:s,icons:o,current:y,count:g.length,onChange:(e,t)=>{C(e),p?.(e,t)}},f,{classNames:t?.popup,styles:r?.popup})))};var X=e.i(11517),B=e.i(42064),U=e.i(21883),H=e.i(90121),F=e.i(22767),W=e.i(13541);let V=(e,t,r,a,o,l,i)=>{let[s]=(0,F.useZIndex)("ImagePreview",e?.zIndex),[c,d]=(0,H.useMergedMask)(e?.mask,t?.mask,`${r}-preview`);return n.default.useMemo(()=>{if(!e)return e;let{cover:n,getContainer:u,closeIcon:p,rootClassName:f}=e,{closeIcon:g}=t??{};return{motionName:(0,W.getTransitionName)(`${r}-preview`,"fade"),...e,...i?{cover:n??i}:{},icons:l,getContainer:u??o,zIndex:s,closeIcon:p??g,rootClassName:(0,m.clsx)(a,f),mask:c,blurClassName:d.mask}},[e,t,r,a,o,i,l,s,c,d])};function Z(e){let t=(0,n.useMemo)(()=>"boolean"==typeof e?e?{}:null:e&&"object"==typeof e?e:{},[e]);return(0,n.useMemo)(()=>{let e;if(!t)return[t,"",""];let{open:r,onOpenChange:a,cover:o,actionsRender:l,visible:i,onVisibleChange:s,rootClassName:c,maskClassName:d,mask:u,forceRender:m,destroyOnClose:p,toolbarRender:f,...g}=t;a?e=a:s&&(e=(e,t)=>{let{current:n}=t||{};void 0!==n?s(e,!e,n):s(e,!e)});let[h,x]=(0,n.isValidElement)(u)?[u,void 0]:"boolean"==typeof u||u&&"object"==typeof u?[void 0,u]:[void 0,void 0];return[{...g,open:r??i,onOpenChange:e,cover:o??h,mask:x,actionsRender:l??f},c,d]},[t])}var G=e.i(64517),Q=e.i(1312),_=e.i(86612),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},K=e.i(9583);function q(){return(q=Object.assign.bind()).apply(this,arguments)}let ee=n.forwardRef((e,t)=>n.createElement(K.default,q({},e,{ref:t,icon:J})));var et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};function en(){return(en=Object.assign.bind()).apply(this,arguments)}let er=n.forwardRef((e,t)=>n.createElement(K.default,en({},e,{ref:t,icon:et}))),ea={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};function eo(){return(eo=Object.assign.bind()).apply(this,arguments)}let el=n.forwardRef((e,t)=>n.createElement(K.default,eo({},e,{ref:t,icon:ea}))),ei={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};function es(){return(es=Object.assign.bind()).apply(this,arguments)}let ec=n.forwardRef((e,t)=>n.createElement(K.default,es({},e,{ref:t,icon:ei}))),ed={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};function eu(){return(eu=Object.assign.bind()).apply(this,arguments)}let em=n.forwardRef((e,t)=>n.createElement(K.default,eu({},e,{ref:t,icon:ed})));e.i(96059);var ep=e.i(15654);e.i(62370);var ef=e.i(35551),eg=e.i(46422),eh=e.i(38378);let ex=e=>({position:e||"absolute",inset:0}),ev=(0,eg.genStyleHooks)("Image",e=>{let t=`${e.componentCls}-preview`,n=(0,eh.mergeToken)(e,{previewCls:t,imagePreviewSwitchSize:e.controlHeightLG});return[(e=>{let{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-placeholder`]:{...ex()}}}})(n),(e=>{let{componentCls:t,motionDurationSlow:n,colorTextLightSolid:r}=e;return{[t]:{[`${t}-cover`]:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:r,background:new ef.FastColor("#000").setA(.3).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`},"&:hover":{[`${t}-cover`]:{opacity:1}},[`${t}-cover-top`]:{inset:"0 0 auto 0",justifyContent:"center"},[`${t}-cover-bottom`]:{inset:"auto 0 0 0",justifyContent:"center"}}}})(n),(e=>{let{motionEaseOut:t,previewCls:n,motionDurationSlow:r,componentCls:a,colorBgMask:o,marginXL:l,marginSM:i,margin:s,colorTextLightSolid:c,paddingSM:d,paddingLG:u,previewOperationHoverColor:m,previewOperationColorDisabled:p,previewOperationSize:f,zIndexPopup:g}=e,h=new ef.FastColor(o).setA(.1),x=h.clone().setA(.2),v={position:"absolute",color:c,backgroundColor:h.toRgbString(),borderRadius:"50%",padding:d,outline:0,border:0,cursor:"pointer",transition:`all ${r}`,display:"flex",fontSize:f,"&:hover":{backgroundColor:x.toRgbString()},"&:active":{backgroundColor:h.toRgbString()}};return{[`${a}-preview`]:{textAlign:"center",inset:0,position:"fixed",userSelect:"none",zIndex:g,[`${n}-mask`]:{inset:0,position:"absolute",background:o,[`&${a}-preview-mask-blur`]:{backdropFilter:"blur(4px)"},[`&${a}-preview-mask-hidden`]:{display:"none"}},[`${n}-body`]:{...ex(),"pointer-events":"none",display:"flex",alignItems:"center",justifyContent:"center","> *":{pointerEvents:"auto"}},[`${n}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${r} ${t} 0s`},[`&-moving ${n}-img`]:{cursor:"grabbing"},[`${n}-close`]:{...v,top:i,insetInlineEnd:i},[`${n}-switch`]:{...v,top:"50%",transform:"translateY(-50%)","&-disabled":{"&, &:hover, &:active":{color:p,background:"transparent",cursor:"not-allowed"}},"&-prev":{insetInlineStart:i},"&-next":{insetInlineEnd:i}},[`${n}-footer`]:{position:"absolute",bottom:l,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)",gap:s},[`${n}-actions`]:{display:"flex",gap:d,padding:`0 ${(0,ep.unit)(u)}`,backgroundColor:h.toRgbString(),borderRadius:100,fontSize:f,"&-action":{padding:d,cursor:"pointer",transition:`all ${r}`,display:"flex",[`&:not(${n}-actions-action-disabled):hover`]:{color:m},"&-disabled":{color:p,cursor:"not-allowed"}}}}}})(n),(e=>{let{previewCls:t,motionDurationSlow:n}=e;return{[t]:{"&-fade":{transition:`opacity ${n}`,"&-enter, &-appear":{opacity:0,[`${t}-body`]:{transform:"scale(0)"},"&-active":{opacity:1,[`${t}-body`]:{transform:"scale(1)",transition:`transform ${n}`}}},"&-leave":{opacity:1,"&-active":{opacity:0,[`${t}-body`]:{transform:"scale(0)",transition:`transform ${n}`}}}}}}})(n)]},e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new ef.FastColor(e.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new ef.FastColor(e.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new ef.FastColor(e.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:1.5*e.fontSizeIcon})),ey={rotateLeft:n.createElement(ee,null),rotateRight:n.createElement(er,null),zoomIn:n.createElement(ec,null),zoomOut:n.createElement(em,null),close:n.createElement(G.default,null),left:n.createElement(Q.default,null),right:n.createElement(_.default,null),flipX:n.createElement(el,null),flipY:n.createElement(el,{rotate:90})},eC=e=>{let{prefixCls:t,preview:r,className:a,rootClassName:o,style:l,styles:i,classNames:s,wrapperStyle:c,fallback:d,...u}=e,{getPrefixCls:p,getPopupContainer:f,className:g,style:h,preview:x,styles:v,classNames:y,fallback:C}=(0,B.useComponentConfig)("image"),b=p("image",t),w=(0,U.default)(b),[j,E]=ev(b,w),k=(0,m.clsx)(o,j,E,w),S=(0,m.clsx)(a,j,g),[N,I,M]=Z(r),[z,A,$]=Z(x),L=V(N,z,b,k,f,ey,!0),T={...e,preview:L},R=n.useMemo(()=>({cover:(0,m.clsx)($,M),popup:{root:(0,m.clsx)(A,I)}}),[I,M,A,$]),{mask:D,blurClassName:P}=L??{},O=n.useMemo(()=>({mask:(0,m.clsx)({[`${b}-preview-mask-hidden`]:!D},P)}),[D,b,P]),H=n.useMemo(()=>[y,s,R,{popup:O}],[y,s,R,O]),[F,W]=(0,X.useMergeSemantic)(H,[v,{root:c},i],{props:T},{popup:{_default:"root"}}),G={...h,...l};return n.createElement(Y,{prefixCls:b,preview:L||!1,rootClassName:k,className:S,style:G,fallback:d??C,...u,classNames:F,styles:W})};eC.PreviewGroup=({previewPrefixCls:e,preview:t,classNames:r,styles:a,...o})=>{let{getPrefixCls:l,getPopupContainer:i,direction:s,preview:c,classNames:d,styles:u}=(0,B.useComponentConfig)("image"),p=l("image",e),f=`${p}-preview`,g=(0,U.default)(p),[h,x]=ev(p,g),v=(0,m.clsx)(h,x,g),[y,C,b]=Z(t),[w,j,E]=Z(c),k=n.useMemo(()=>({...ey,left:"rtl"===s?n.createElement(_.default,null):n.createElement(Q.default,null),right:"rtl"===s?n.createElement(Q.default,null):n.createElement(_.default,null)}),[s]),S=V(y,w,p,v,i,ey),{mask:N,blurClassName:I}=S??{},M={...o,classNames:r,styles:a},[z,A]=(0,X.useMergeSemantic)([d,r,{cover:(0,m.clsx)(E,b),popup:{root:(0,m.clsx)(j,C),mask:(0,m.clsx)({[`${p}-preview-mask-hidden`]:!N},I)}}],[u,a],{props:M},{popup:{_default:"root"}});return n.createElement(Y.PreviewGroup,{preview:S,previewPrefixCls:f,icons:k,...o,classNames:z,styles:A})};var eb=e.i(69638),ew=e.i(86536),ej=e.i(78583),eE=e.i(84614),ek=e.i(73884),eS=e.i(24623);let{TextArea:eN}=d.Input,eI=["image/jpeg","image/png","image/webp","image/gif"],eM={APPLIED:{color:"#fa8c16",text:"รอตรวจ"},REVISION_REQUIRED:{color:"#f5222d",text:"ต้องแก้ไข"},APPROVED:{color:"#0A894C",text:"อนุมัติแล้ว"},COMPLETED:{color:"#0A894C",text:"เสร็จสิ้น"}},ez=e=>["APPLIED","REVISION_REQUIRED"].includes(e);e.s(["default",0,({visible:e,onClose:d,activity:u,onApprove:m,onReject:p,filesByAttendanceId:f={},loading:g=!1})=>{let[h,x]=(0,n.useState)([]),[v,y]=(0,n.useState)(!1),[C,b]=(0,n.useState)(""),[w,j]=(0,n.useState)([]),[E,k]=(0,n.useState)(!1),[S,N]=(0,n.useState)(""),[I,M]=(0,n.useState)(""),[z,A]=(0,n.useState)(null);(0,n.useEffect)(()=>()=>{S&&window.URL.revokeObjectURL(S)},[S]);let $=(0,n.useMemo)(()=>(Array.isArray(u?.attendances)?u.attendances:[]).map(e=>{let t=f[e.id]||[];return{...e,studentId:e.user?.studentCode||e.user?.studentId||"-",name:e.user?.fullname||`${e.user?.firstName||""} ${e.user?.lastName||""}`.trim()||"Unknown",department:e.user?.department?.name||"-",major:e.user?.major?.name||"-",year:e.user?.classYear||e.user?.level||"-",uploadDate:e.updatedAt?.split("T")[0]||"-",files:t}}),[u?.attendances,f]),L=async e=>{A(e.id);try{let t=await (0,eS.downloadFile)(e.id),n=window.URL.createObjectURL(t);eI.includes(e.mimeType)?(S&&window.URL.revokeObjectURL(S),N(n),M(e.fileName||"Evidence"),k(!0)):(window.open(n,"_blank","noopener,noreferrer"),setTimeout(()=>{window.URL.revokeObjectURL(n)},3e4))}catch(e){console.error("Error opening evidence file:",e)}finally{A(null)}},T=(e=null)=>{e?j([e]):j($.filter(e=>h.includes(e.id))),y(!0)},R=[{title:"ลำดับ",width:70,align:"center",render:(e,t,n)=>n+1},{title:"นักศึกษา",dataIndex:"name",render:(e,n)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.Avatar,{size:32,style:{backgroundColor:"#0A894C"},icon:(0,t.jsx)(eE.User,{size:18})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:n.studentId})]})]})},{title:"ภาควิชา",dataIndex:"department",width:160},{title:"สาขา",dataIndex:"major",width:120,align:"center",render:e=>(0,t.jsx)(c.Tag,{color:"#0A894C",children:e})},{title:"ชั้นปี",dataIndex:"year",width:90,align:"center",render:e=>"-"===e?"-":`ปี ${e}`},{title:"ไฟล์หลักฐาน",width:320,render:(e,n)=>n.files.length?(0,t.jsx)(l.Space,{wrap:!0,children:n.files.map(e=>(0,t.jsx)(a.Button,{size:"small",icon:(0,t.jsx)(ew.Eye,{size:14}),loading:z===e.id,onClick:()=>L(e),children:"PDF"===e.fileType||"application/pdf"===e.mimeType?"PDF":"รูปภาพ"},e.id))}):(0,t.jsx)("span",{className:"text-gray-400",children:"ยังไม่มีไฟล์หลักฐาน"})},{title:"สถานะ",dataIndex:"status",width:120,align:"center",render:e=>{let n=eM[e]||{color:"default",text:e};return(0,t.jsx)(c.Tag,{color:n.color,children:n.text})}},{title:"การจัดการ",width:170,align:"center",render:(e,n)=>ez(n.status)?(0,t.jsxs)(l.Space,{size:4,children:[(0,t.jsx)(a.Button,{size:"small",type:"primary",icon:(0,t.jsx)(eb.CheckCircle,{size:14}),onClick:()=>m(n),style:{backgroundColor:"#0A894C",borderColor:"#0A894C"},children:"อนุมัติ"}),(0,t.jsx)(a.Button,{size:"small",danger:!0,icon:(0,t.jsx)(ek.XCircle,{size:14}),onClick:()=>T(n),children:"ส่งกลับ"})]}):(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"ไม่มีรายการที่ต้องจัดการ"})}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Modal,{title:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold",style:{color:"#0A894C"},children:[(0,t.jsx)(ej.FileText,{size:20,className:"inline mr-2"}),"หลักฐานการเข้าร่วมกิจกรรม"]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:u?.name||u?.activityName||"กิจกรรม"})]}),open:e,onCancel:d,width:1200,footer:null,children:(0,t.jsxs)(i.Spin,{spinning:g,children:[h.length>0&&(0,t.jsxs)("div",{className:"mb-4 flex gap-2",children:[(0,t.jsxs)(a.Button,{type:"primary",icon:(0,t.jsx)(eb.CheckCircle,{size:16}),onClick:()=>{$.filter(e=>h.includes(e.id)).forEach(e=>m(e)),x([])},style:{backgroundColor:"#0A894C",borderColor:"#0A894C"},children:["อนุมัติที่เลือก (",h.length,")"]}),(0,t.jsxs)(a.Button,{danger:!0,icon:(0,t.jsx)(ek.XCircle,{size:16}),onClick:()=>T(),children:["ส่งกลับแก้ไข (",h.length,")"]})]}),(0,t.jsx)(s.Table,{columns:R,dataSource:$,rowKey:"id",rowSelection:{selectedRowKeys:h,onChange:e=>x(e),getCheckboxProps:e=>({disabled:!ez(e.status)})},pagination:{pageSize:6},scroll:{x:1100}})]})}),(0,t.jsx)(o.Modal,{open:E,title:I,footer:null,onCancel:()=>k(!1),width:700,children:(0,t.jsx)(eC,{src:S,alt:I,style:{width:"100%"},preview:!1})}),(0,t.jsx)(o.Modal,{title:"เหตุผลการส่งกลับแก้ไข",open:v,onCancel:()=>{y(!1),b(""),j([])},onOk:()=>{C.trim()?(w.forEach(e=>{p({...e,rejectReason:C.trim()})}),y(!1),b(""),j([]),x([])):alert("กรุณาระบุเหตุผลในการส่งกลับแก้ไข")},okText:"ยืนยัน",cancelText:"ยกเลิก",okButtonProps:{style:{backgroundColor:"#f5222d",borderColor:"#f5222d"}},children:(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("p",{className:"text-gray-600 mb-2",children:["นักศึกษาที่ส่งกลับ: ",w.map(e=>e.name).join(", ")]}),(0,t.jsx)(eN,{rows:4,placeholder:"กรุณาระบุเหตุผล...",value:C,onChange:e=>b(e.target.value)})]})})]})}],2143)},85810,e=>{"use strict";var t=e.i(43476),n=e.i(91542),r=e.i(64571),a=e.i(62218),o=e.i(86536);e.s(["default",0,({data:e,onView:l,showParticipationCount:i=!1,showEvidenceCount:s=!1})=>{let c=[{title:"ลำดับ",dataIndex:"index",key:"index",width:80,align:"center",render:(e,t,n)=>n+1},{title:"กิจกรรม",key:"activityName",ellipsis:!0,render:(e,t)=>t.name||t.activityName},{title:"ภาควิชา",key:"department",width:180,render:(e,t)=>t.department?.name||t.department||"-"},{title:"สาขาวิชา",key:"major",width:150,align:"center",render:(e,n)=>n.majorJoins&&n.majorJoins.length>0?(0,t.jsx)("div",{className:"flex flex-wrap gap-1 justify-center",children:n.majorJoins.map((e,n)=>(0,t.jsx)(a.Tag,{color:"#0A894C",style:{borderRadius:8,fontWeight:500},children:e.major?.name},n))}):n.major?(0,t.jsx)(a.Tag,{color:"#0A894C",style:{borderRadius:8,fontWeight:500},children:n.major}):(0,t.jsx)("span",{className:"text-gray-400",children:"ทุกสาขา"})},{title:i?"จำนวนผู้เข้าร่วม":s?"จำนวนส่งหลักฐาน":"จำนวนนักศึกษา",key:"studentCount",width:150,align:"center",render:(e,n)=>{let r,a;i?(r=n.participationCount||0,a=n.maxPeopleCount||n.maxStudents||0):s?(r=n.evidenceCount||0,a=n.maxPeopleCount||n.maxStudents||0):(r=n.studentCount||n.peopleCount||0,a=n.maxStudents||n.maxPeopleCount||0);let o=a>0?r/a*100:0;return(0,t.jsxs)("span",{style:{color:o>=80?"#f5222d":o>=50?"#fa8c16":"#0A894C",fontWeight:"600",fontSize:"14px"},children:[r,"/",a]})}},{title:"การจัดการ",key:"action",width:120,align:"center",render:(e,n)=>(0,t.jsx)("div",{className:"flex gap-2 justify-center",children:(0,t.jsx)(r.Button,{type:"text",icon:(0,t.jsx)(o.Eye,{size:18}),onClick:()=>l(n),style:{color:"#0A894C"},title:"ดูรายละเอียด"})})}];return(0,t.jsx)(n.Table,{columns:c,dataSource:e,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showTotal:e=>`ทั้งหมด ${e} รายการ`},scroll:{x:800},style:{backgroundColor:"#ffffff",borderRadius:8}})}])},4756,e=>{"use strict";var t=e.i(43476),n=e.i(11451),r=e.i(99133),a=e.i(21192),o=e.i(78654),l=e.i(64571),i=e.i(55436);let s=(0,e.i(75254).default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),{Option:c}=r.Select,d=["คอมพิวเตอร์ศึกษา","ครุศาสตร์โยธา","ครุศาสตร์ไฟฟ้า","ครุศาสตร์เครื่องกล","ครุศาสตร์เทคโนโลยีและสารสนเทศ","บริหารเทคนิคศึกษา"],u=["TCT","CED"],m=["1","2","3","4"];e.s(["default",0,({onSearch:e,onFilterChange:p,onReset:f,hideDepartmentFilter:g=!1,departmentOptions:h=d,majorOptions:x=u,yearOptions:v=m})=>(0,t.jsx)("div",{className:"p-4 rounded-lg mb-4",style:{background:"#ffffff",border:"1px solid #e8f5e9",boxShadow:"0 2px 8px rgba(10, 137, 76, 0.08)"},children:(0,t.jsxs)(a.Row,{gutter:[16,16],children:[(0,t.jsx)(o.Col,{xs:24,md:8,children:(0,t.jsx)(n.Input,{placeholder:"Search by student ID, name, or activity name",prefix:(0,t.jsx)(i.Search,{size:16,style:{color:"#0A894C"}}),onChange:t=>e(t.target.value),size:"large",style:{borderColor:"#0A894C"}})}),!g&&(0,t.jsx)(o.Col,{xs:24,md:5,children:(0,t.jsx)(r.Select,{placeholder:"เลือกภาควิชา",onChange:e=>p("department",e),allowClear:!0,size:"large",style:{width:"100%"},children:h.map(e=>(0,t.jsx)(c,{value:e.id||e,children:e.name||e},e.id||e))})}),(0,t.jsx)(o.Col,{xs:24,md:g?6:4,children:(0,t.jsx)(r.Select,{placeholder:"เลือกสาขาวิชา",onChange:e=>p("major",e),allowClear:!0,size:"large",style:{width:"100%"},children:x.map(e=>(0,t.jsx)(c,{value:e.id||e,children:e.name||e},e.id||e))})}),(0,t.jsx)(o.Col,{xs:24,md:g?6:4,children:(0,t.jsx)(r.Select,{placeholder:"เลือกชั้นปี",onChange:e=>p("year",e),allowClear:!0,size:"large",style:{width:"100%"},children:v.map(e=>(0,t.jsxs)(c,{value:e,children:["ปี ",e]},e))})}),(0,t.jsx)(o.Col,{xs:24,md:g?4:3,children:(0,t.jsx)(l.Button,{icon:(0,t.jsx)(s,{size:16}),onClick:f,size:"large",style:{width:"100%",backgroundColor:"#0A894C",borderColor:"#0A894C",color:"#ffffff"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#086b3d"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#0A894C"},children:"รีเซ็ต"})})]})})],4756)},7764,e=>{"use strict";var t=e.i(43476),n=e.i(37902),r=e.i(12931),a=e.i(53496),o=e.i(91542),l=e.i(64571),i=e.i(62218),s=e.i(47437),c=e.i(11451),d=e.i(69638),u=e.i(73884),m=e.i(3116),p=e.i(84614),f=e.i(71645);let{TextArea:g}=c.Input;e.s(["default",0,({visible:e,onClose:c,activity:h,onApprove:x,onReject:v})=>{let[y,C]=(0,f.useState)([]),[b,w]=(0,f.useState)(!1),[j,E]=(0,f.useState)(""),[k,S]=(0,f.useState)([]),N=(()=>{if(!h?.attendances)return{approved:[],pending:[],rejected:[]};let e=[],t=[],n=[];return h.attendances.forEach(r=>{let a={...r,studentId:r.user?.studentCode||r.user?.studentId||"-",name:r.user?.fullname||`${r.user?.firstName||""} ${r.user?.lastName||""}`.trim()||"Unknown",department:r.user?.department?.name||"-",major:r.user?.major?.name||"-",year:r.user?.level||"-"};"APPROVED"===r.status||"COMPLETED"===r.status?e.push(a):"APPLIED"===r.status?t.push(a):["REVISION_REQUIRED","REJECTED"].includes(r.status)&&n.push(a)}),{approved:e,pending:t,rejected:n}})(),I=(e=null)=>{e?S([e]):S(N.pending.filter(e=>y.includes(e.id))),w(!0)},M=[{title:"ลำดับ",dataIndex:"index",key:"index",width:70,align:"center",render:(e,t,n)=>n+1},{title:"นักศึกษา",dataIndex:"name",key:"name",render:(e,n)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s.Avatar,{size:32,style:{backgroundColor:"#0A894C"},icon:(0,t.jsx)(p.User,{size:18})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:n.studentId})]})]})},{title:"ภาควิชา",dataIndex:"department",key:"department",width:180},{title:"สาขา",dataIndex:"major",key:"major",width:100,align:"center",render:e=>(0,t.jsx)(i.Tag,{color:"#0A894C",style:{borderRadius:8},children:e})},{title:"ชั้นปี",dataIndex:"year",key:"year",width:80,align:"center",render:e=>`ปี ${e}`}],z=[...M],A=[...M,{title:"การจัดการ",key:"action",width:120,align:"center",render:(e,n)=>(0,t.jsx)("div",{className:"flex gap-2 justify-center",children:(0,t.jsx)(l.Button,{size:"small",danger:!0,icon:(0,t.jsx)(u.XCircle,{size:16}),onClick:()=>I(n),children:"ไม่อนุมัติ"})})}],$=[...M],L=[{key:"approved",label:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.CheckCircle,{size:16}),"อนุมัติแล้ว (",N.approved.length,")"]}),children:(0,t.jsx)(o.Table,{columns:z,dataSource:N.approved,rowKey:"id",pagination:{pageSize:5},scroll:{x:600}})},{key:"pending",label:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Clock,{size:16}),"รออนุมัติ (",N.pending.length,")"]}),children:(0,t.jsxs)("div",{children:[y.length>0&&(0,t.jsxs)("div",{className:"mb-4 flex gap-2",children:[(0,t.jsxs)(l.Button,{type:"primary",icon:(0,t.jsx)(d.CheckCircle,{size:16}),onClick:()=>{N.pending.filter(e=>y.includes(e.id)).forEach(e=>x(e)),C([])},style:{backgroundColor:"#0A894C",borderColor:"#0A894C"},children:["อนุมัติที่เลือก (",y.length,")"]}),(0,t.jsxs)(l.Button,{danger:!0,icon:(0,t.jsx)(u.XCircle,{size:16}),onClick:()=>I(),children:["ไม่อนุมัติที่เลือก (",y.length,")"]})]}),(0,t.jsx)(o.Table,{columns:A,dataSource:N.pending,rowKey:"id",rowSelection:{selectedRowKeys:y,onChange:e=>{C(e)}},pagination:{pageSize:5},scroll:{x:600}})]})},{key:"rejected",label:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.XCircle,{size:16}),"ต้องแก้ไข (",N.rejected.length,")"]}),children:(0,t.jsx)(o.Table,{columns:$,dataSource:N.rejected,rowKey:"id",pagination:{pageSize:5},scroll:{x:600}})}];return(0,t.jsxs)(r.Modal,{title:(0,t.jsxs)("div",{className:"jsx-1521a40544afcfbd",children:[(0,t.jsx)("h3",{style:{color:"#0A894C"},className:"jsx-1521a40544afcfbd text-lg font-semibold",children:"รายการนักศึกษา"}),(0,t.jsx)("p",{className:"jsx-1521a40544afcfbd text-sm text-gray-500 mt-1",children:h?.name||h?.activityName||"กิจกรรม"})]}),open:e,onCancel:c,width:900,footer:null,styles:{header:{borderBottom:"2px solid #0A894C",paddingBottom:16}},children:[(0,t.jsx)(a.Tabs,{defaultActiveKey:"approved",items:L,className:"custom-tabs"}),(0,t.jsx)(n.default,{id:"1521a40544afcfbd",children:".custom-tabs .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn{color:#0a894c!important}.custom-tabs .ant-tabs-ink-bar{background:#0a894c!important}.custom-tabs .ant-tabs-tab:hover{color:#0a894c!important}"}),(0,t.jsx)(r.Modal,{title:"เหตุผลในการไม่อนุมัติ",open:b,onCancel:()=>{w(!1),E(""),S([])},onOk:()=>{j.trim()?(k.forEach(e=>{v({...e,rejectReason:j.trim()})}),w(!1),E(""),S([]),C([])):alert("กรุณาระบุเหตุผลในการไม่อนุมัติ")},okText:"ยืนยัน",cancelText:"ยกเลิก",okButtonProps:{style:{backgroundColor:"#f5222d",borderColor:"#f5222d"}},children:(0,t.jsxs)("div",{className:"jsx-1521a40544afcfbd mb-4",children:[(0,t.jsxs)("p",{className:"jsx-1521a40544afcfbd text-gray-600 mb-2",children:["นักศึกษาที่จะไม่อนุมัติ: ",k.map(e=>e.name).join(", ")]}),(0,t.jsx)(g,{rows:4,placeholder:"กรุณาระบุเหตุผลในการไม่อนุมัติ...",value:j,onChange:e=>E(e.target.value)})]})})]})}])}]);